<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.11">
  <compounddef id="witness_8hpp" kind="file" language="C++">
    <compoundname>witness.hpp</compoundname>
    <includes refid="real__entity_8hpp" local="yes">real_entity.hpp</includes>
    <includes refid="entity__cache_8hpp" local="yes">entity_cache.hpp</includes>
    <includes local="yes">network/msgtypes.hpp</includes>
    <includes local="yes">common/space_geometry_mappings.hpp</includes>
    <includedby refid="cell_8cpp" local="yes">cellapp/cell.cpp</includedby>
    <includedby refid="cellapp_8cpp" local="yes">cellapp/cellapp.cpp</includedby>
    <includedby refid="cellapp_2entity_8cpp" local="yes">cellapp/entity.cpp</includedby>
    <includedby refid="cellapp_2entity__type_8cpp" local="yes">cellapp/entity_type.cpp</includedby>
    <includedby refid="real__entity_8cpp" local="yes">cellapp/real_entity.cpp</includedby>
    <includedby refid="replay__data__collector_8cpp" local="yes">cellapp/replay_data_collector.cpp</includedby>
    <includedby refid="witness_8cpp" local="yes">cellapp/witness.cpp</includedby>
    <incdepgraph>
      <node id="13095">
        <label>real_entity.hpp</label>
        <link refid="real__entity_8hpp_source"/>
        <childnode refid="13096" relation="include">
        </childnode>
        <childnode refid="13097" relation="include">
        </childnode>
        <childnode refid="13103" relation="include">
        </childnode>
        <childnode refid="13105" relation="include">
        </childnode>
        <childnode refid="13112" relation="include">
        </childnode>
        <childnode refid="13119" relation="include">
        </childnode>
        <childnode refid="13125" relation="include">
        </childnode>
        <childnode refid="13148" relation="include">
        </childnode>
        <childnode refid="13150" relation="include">
        </childnode>
        <childnode refid="13117" relation="include">
        </childnode>
        <childnode refid="13149" relation="include">
        </childnode>
        <childnode refid="13118" relation="include">
        </childnode>
        <childnode refid="13151" relation="include">
        </childnode>
        <childnode refid="13152" relation="include">
        </childnode>
        <childnode refid="13153" relation="include">
        </childnode>
      </node>
      <node id="13139">
        <label>entitydef_script/entity_method.hpp</label>
      </node>
      <node id="13128">
        <label>network/misc.hpp</label>
      </node>
      <node id="13133">
        <label>cstdmf/memory_stream.hpp</label>
      </node>
      <node id="13096">
        <label>build/bwapi.hpp</label>
      </node>
      <node id="13098">
        <label>entitydef/volatile_info.hpp</label>
      </node>
      <node id="13114">
        <label>cstdmf/stdmf.hpp</label>
      </node>
      <node id="13110">
        <label>script/script_object.hpp</label>
      </node>
      <node id="13097">
        <label>cellapp_interface.hpp</label>
        <link refid="cellapp__interface_8hpp_source"/>
        <childnode refid="13098" relation="include">
        </childnode>
        <childnode refid="13099" relation="include">
        </childnode>
        <childnode refid="13100" relation="include">
        </childnode>
        <childnode refid="13101" relation="include">
        </childnode>
        <childnode refid="13102" relation="include">
        </childnode>
      </node>
      <node id="13120">
        <label>cstdmf/stringmap.hpp</label>
      </node>
      <node id="13108">
        <label>cstdmf/binary_stream.hpp</label>
      </node>
      <node id="13146">
        <label>server/entity_app_config.hpp</label>
      </node>
      <node id="13148">
        <label>mailbox.hpp</label>
        <link refid="cellapp_2mailbox_8hpp_source"/>
        <childnode refid="13121" relation="include">
        </childnode>
        <childnode refid="13135" relation="include">
        </childnode>
        <childnode refid="13149" relation="include">
        </childnode>
        <childnode refid="13118" relation="include">
        </childnode>
        <childnode refid="13141" relation="include">
        </childnode>
        <childnode refid="13142" relation="include">
        </childnode>
        <childnode refid="13119" relation="include">
        </childnode>
      </node>
      <node id="13101">
        <label>server/common.hpp</label>
      </node>
      <node id="13111">
        <label>cstdmf/md5.hpp</label>
      </node>
      <node id="13151">
        <label>server/auto_backup_and_archive.hpp</label>
      </node>
      <node id="13138">
        <label>entitydef/py_volatile_info.hpp</label>
      </node>
      <node id="13130">
        <label>entity_callback_buffer.hpp</label>
        <link refid="entity__callback__buffer_8hpp_source"/>
        <childnode refid="13131" relation="include">
        </childnode>
        <childnode refid="13132" relation="include">
        </childnode>
        <childnode refid="13110" relation="include">
        </childnode>
      </node>
      <node id="13152">
        <label>server/util.hpp</label>
      </node>
      <node id="13109">
        <label>cstdmf/smartpointer.hpp</label>
      </node>
      <node id="13141">
        <label>pyscript/script.hpp</label>
      </node>
      <node id="13126">
        <label>entitydef/data_description.hpp</label>
      </node>
      <node id="13116">
        <label>cstdmf/bw_string.hpp</label>
      </node>
      <node id="13119">
        <label>entity_type.hpp</label>
        <link refid="cellapp_2entity__type_8hpp_source"/>
        <childnode refid="13106" relation="include">
        </childnode>
        <childnode refid="13116" relation="include">
        </childnode>
        <childnode refid="13120" relation="include">
        </childnode>
        <childnode refid="13121" relation="include">
        </childnode>
        <childnode refid="13122" relation="include">
        </childnode>
        <childnode refid="13123" relation="include">
        </childnode>
        <childnode refid="13107" relation="include">
        </childnode>
        <childnode refid="13124" relation="include">
        </childnode>
        <childnode refid="13096" relation="include">
        </childnode>
      </node>
      <node id="13149">
        <label>network/udp_channel.hpp</label>
      </node>
      <node id="13112">
        <label>entity_cache.hpp</label>
        <link refid="entity__cache_8hpp_source"/>
        <childnode refid="13113" relation="include">
        </childnode>
        <childnode refid="13108" relation="include">
        </childnode>
        <childnode refid="13100" relation="include">
        </childnode>
        <childnode refid="13109" relation="include">
        </childnode>
        <childnode refid="13117" relation="include">
        </childnode>
        <childnode refid="13145" relation="include">
        </childnode>
        <childnode refid="13147" relation="include">
        </childnode>
        <childnode refid="13144" relation="include">
        </childnode>
      </node>
      <node id="13150">
        <label>server/updatable.hpp</label>
      </node>
      <node id="13134">
        <label>cstdmf/time_queue.hpp</label>
      </node>
      <node id="13136">
        <label>entitydef/property_event_stamps.hpp</label>
      </node>
      <node id="13147">
        <label>limits.h</label>
      </node>
      <node id="13140">
        <label>physics2/worldtri.hpp</label>
      </node>
      <node id="13115">
        <label>cstdmf/bw_map.hpp</label>
      </node>
      <node id="13144">
        <label>cstdmf/bw_set.hpp</label>
      </node>
      <node id="13118">
        <label>pyscript/pyobject_plus.hpp</label>
      </node>
      <node id="13094">
        <label>cellapp/witness.hpp</label>
        <link refid="witness.hpp"/>
        <childnode refid="13095" relation="include">
        </childnode>
        <childnode refid="13112" relation="include">
        </childnode>
        <childnode refid="13100" relation="include">
        </childnode>
        <childnode refid="13154" relation="include">
        </childnode>
      </node>
      <node id="13143">
        <label>server/entity_profiler.hpp</label>
      </node>
      <node id="13106">
        <label>Python.h</label>
      </node>
      <node id="13125">
        <label>history_event.hpp</label>
        <link refid="history__event_8hpp_source"/>
        <childnode refid="13126" relation="include">
        </childnode>
        <childnode refid="13107" relation="include">
        </childnode>
        <childnode refid="13127" relation="include">
        </childnode>
        <childnode refid="13128" relation="include">
        </childnode>
        <childnode refid="13129" relation="include">
        </childnode>
        <childnode refid="13108" relation="include">
        </childnode>
      </node>
      <node id="13129">
        <label>cstdmf/bw_list.hpp</label>
      </node>
      <node id="13137">
        <label>entitydef/property_owner.hpp</label>
      </node>
      <node id="13105">
        <label>controller.hpp</label>
        <link refid="controller_8hpp_source"/>
        <childnode refid="13106" relation="include">
        </childnode>
        <childnode refid="13107" relation="include">
        </childnode>
        <childnode refid="13108" relation="include">
        </childnode>
        <childnode refid="13109" relation="include">
        </childnode>
        <childnode refid="13110" relation="include">
        </childnode>
        <childnode refid="13111" relation="include">
        </childnode>
        <childnode refid="13096" relation="include">
        </childnode>
      </node>
      <node id="13124">
        <label>server/entity_type_profiler.hpp</label>
      </node>
      <node id="13123">
        <label>delegate_interface/entity_delegate.hpp</label>
      </node>
      <node id="13122">
        <label>entitydef/method_description.hpp</label>
      </node>
      <node id="13153">
        <label>math.h</label>
      </node>
      <node id="13107">
        <label>network/basictypes.hpp</label>
      </node>
      <node id="13102">
        <label>server/anonymous_channel_client.hpp</label>
      </node>
      <node id="13113">
        <label>aoi_update_schemes.hpp</label>
        <link refid="aoi__update__schemes_8hpp_source"/>
        <childnode refid="13114" relation="include">
        </childnode>
        <childnode refid="13115" relation="include">
        </childnode>
        <childnode refid="13116" relation="include">
        </childnode>
      </node>
      <node id="13103">
        <label>cell_app_channel.hpp</label>
        <link refid="cell__app__channel_8hpp_source"/>
        <childnode refid="13104" relation="include">
        </childnode>
      </node>
      <node id="13121">
        <label>entitydef/entity_description.hpp</label>
      </node>
      <node id="13100">
        <label>network/msgtypes.hpp</label>
      </node>
      <node id="13131">
        <label>cstdmf/bw_namespace.hpp</label>
      </node>
      <node id="13145">
        <label>cellapp_config.hpp</label>
        <link refid="cellapp__config_8hpp_source"/>
        <childnode refid="13146" relation="include">
        </childnode>
      </node>
      <node id="13142">
        <label>server/backup_hash.hpp</label>
      </node>
      <node id="13132">
        <label>cstdmf/bw_vector.hpp</label>
      </node>
      <node id="13099">
        <label>network/common_interface_macros.hpp</label>
      </node>
      <node id="13154">
        <label>common/space_geometry_mappings.hpp</label>
      </node>
      <node id="13117">
        <label>entity.hpp</label>
        <link refid="cellapp_2entity_8hpp_source"/>
        <childnode refid="13106" relation="include">
        </childnode>
        <childnode refid="13118" relation="include">
        </childnode>
        <childnode refid="13096" relation="include">
        </childnode>
        <childnode refid="13097" relation="include">
        </childnode>
        <childnode refid="13105" relation="include">
        </childnode>
        <childnode refid="13119" relation="include">
        </childnode>
        <childnode refid="13125" relation="include">
        </childnode>
        <childnode refid="13130" relation="include">
        </childnode>
        <childnode refid="13133" relation="include">
        </childnode>
        <childnode refid="13134" relation="include">
        </childnode>
        <childnode refid="13135" relation="include">
        </childnode>
        <childnode refid="13136" relation="include">
        </childnode>
        <childnode refid="13137" relation="include">
        </childnode>
        <childnode refid="13138" relation="include">
        </childnode>
        <childnode refid="13139" relation="include">
        </childnode>
        <childnode refid="13123" relation="include">
        </childnode>
        <childnode refid="13140" relation="include">
        </childnode>
        <childnode refid="13141" relation="include">
        </childnode>
        <childnode refid="13142" relation="include">
        </childnode>
        <childnode refid="13143" relation="include">
        </childnode>
        <childnode refid="13144" relation="include">
        </childnode>
        <childnode refid="13132" relation="include">
        </childnode>
        <childnode refid="13115" relation="include">
        </childnode>
      </node>
      <node id="13127">
        <label>network/interface_element.hpp</label>
      </node>
      <node id="13104">
        <label>network/channel_owner.hpp</label>
      </node>
      <node id="13135">
        <label>entitydef/mailbox_base.hpp</label>
      </node>
    </incdepgraph>
    <innerclass refid="class_witness" prot="public">Witness</innerclass>
    <innernamespace refid="namespace_mercury">Mercury</innernamespace>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="preprocessor">#ifndef<sp/>WITNESS_HPP</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>WITNESS_HPP</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;real_entity.hpp&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;entity_cache.hpp&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;network/msgtypes.hpp&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;common/space_geometry_mappings.hpp&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="keyword">namespace<sp/></highlight><highlight class="normal"><ref refid="namespace_mercury" kindref="compound">Mercury</ref></highlight></codeline>
<codeline lineno="11"><highlight class="normal">{</highlight></codeline>
<codeline lineno="12"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal">Bundle;</highlight></codeline>
<codeline lineno="13"><highlight class="normal">}<sp/></highlight><highlight class="comment">//<sp/>end<sp/>namespace<sp/>Mercury</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight></codeline>
<codeline lineno="16"><highlight class="normal"><ref refid="namespace_b_w___b_e_g_i_n___n_a_m_e_s_p_a_c_e" kindref="compound">BW_BEGIN_NAMESPACE</ref></highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_ao_i_trigger" kindref="compound">AoITrigger</ref>;</highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_range_list_node" kindref="compound">RangeListNode</ref>;</highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight></codeline>
<codeline lineno="27" refid="class_witness" refkind="compound"><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_witness" kindref="compound">Witness</ref><sp/>:<sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>Updatable</highlight></codeline>
<codeline lineno="28"><highlight class="normal">{</highlight></codeline>
<codeline lineno="29"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="class_witness" kindref="compound">Witness</ref><sp/>*<sp/>getSelf(<sp/>PyObject<sp/>*<sp/></highlight><highlight class="keyword">self</highlight><highlight class="normal"><sp/>)</highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_entity" kindref="compound">Entity</ref><sp/>*<sp/>pEntity<sp/>=<sp/>(<ref refid="class_entity" kindref="compound">Entity</ref>*)</highlight><highlight class="keyword">self</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pEntity-&gt;isDestroyed())</highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PyErr_SetString(<sp/>PyExc_TypeError,</highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Entity<sp/>for<sp/>Witness<sp/>method<sp/>no<sp/>longer<sp/>exists&quot;</highlight><highlight class="normal"><sp/>);</highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NULL;</highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pEntity-&gt;isRealToScript())</highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PyErr_Format(<sp/>PyExc_TypeError,</highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>get<sp/>real<sp/>for<sp/>Entity<sp/>%d&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">(<sp/>pEntity-&gt;id()<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NULL;</highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="46"><highlight class="normal"></highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_witness" kindref="compound">Witness</ref><sp/>*<sp/>pWitness<sp/>=<sp/>pEntity-&gt;pReal()-&gt;pWitness();</highlight></codeline>
<codeline lineno="48"><highlight class="normal"></highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!pWitness)</highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>PyErr_Format(<sp/>PyExc_TypeError,</highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Failed<sp/>to<sp/>get<sp/>witness<sp/>for<sp/>Entity<sp/>%d&quot;</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal">(<sp/>pEntity-&gt;id()<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>NULL;</highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="55"><highlight class="normal"></highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>pWitness;</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="58"><highlight class="normal"></highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/>PY_FAKE_PYOBJECTPLUS_BASE_DECLARE()</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/>Py_FakeHeader(<sp/><ref refid="class_witness" kindref="compound">Witness</ref>,<sp/>PyObjectPlus<sp/>)</highlight></codeline>
<codeline lineno="61"><highlight class="normal"></highlight></codeline>
<codeline lineno="62"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Creation/Destruction</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_witness" kindref="compound">Witness</ref>(<sp/><ref refid="class_real_entity" kindref="compound">RealEntity</ref><sp/>&amp;<sp/>owner,<sp/>BinaryIStream<sp/>&amp;<sp/>data,</highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CreateRealInfo<sp/>createRealInfo,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>hasChangedSpace<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal"><sp/>);</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/>~<ref refid="class_witness" kindref="compound">Witness</ref>();</highlight></codeline>
<codeline lineno="67"><highlight class="normal"></highlight></codeline>
<codeline lineno="68"><highlight class="normal"></highlight><highlight class="keyword">private</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>readOffloadData(<sp/>BinaryIStream<sp/>&amp;<sp/>data,<sp/>CreateRealInfo<sp/>createRealInfo,</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>hasChangedSpace<sp/>);</highlight></codeline>
<codeline lineno="71"><highlight class="normal"></highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>writeSpacePropertyCache(<sp/>BinaryOStream<sp/>&amp;<sp/>data<sp/>)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>readSpacePropertyCache(<sp/>BinaryIStream<sp/>&amp;<sp/>data,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>hasChangedSpace<sp/>);</highlight></codeline>
<codeline lineno="74"><highlight class="normal"></highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>writeSpaceGeometryMappings(<sp/>BinaryOStream<sp/>&amp;<sp/>data<sp/>)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>readSpaceGeometryMappings(<sp/>BinaryIStream<sp/>&amp;<sp/>data,</highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>hasChangedSpace<sp/>);</highlight></codeline>
<codeline lineno="78"><highlight class="normal"></highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>readAoI(<sp/>BinaryIStream<sp/>&amp;<sp/>data<sp/>);</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>writeAoI(<sp/>BinaryOStream<sp/>&amp;<sp/>data<sp/>)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="81"><highlight class="normal"></highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>init();</highlight></codeline>
<codeline lineno="83"><highlight class="normal"></highlight></codeline>
<codeline lineno="84"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_real_entity" kindref="compound">RealEntity</ref><sp/>&amp;<sp/>real()<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>real_;<sp/>}</highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_real_entity" kindref="compound">RealEntity</ref><sp/>&amp;<sp/>real()</highlight><highlight class="keyword"><sp/>const<sp/><sp/><sp/><sp/><sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>real_;<sp/>}</highlight></codeline>
<codeline lineno="87"><highlight class="normal"></highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_entity" kindref="compound">Entity</ref><sp/>&amp;<sp/>entity()<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>entity_;<sp/>}</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_entity" kindref="compound">Entity</ref><sp/>&amp;<sp/>entity()</highlight><highlight class="keyword"><sp/>const<sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>entity_;<sp/>}</highlight></codeline>
<codeline lineno="90"><highlight class="normal"></highlight></codeline>
<codeline lineno="91"><highlight class="normal"></highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Ex-overrides<sp/>from<sp/>RealEntity</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>writeOffloadData(<sp/>BinaryOStream<sp/>&amp;<sp/>data<sp/>)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>writeBackupData(<sp/>BinaryOStream<sp/>&amp;<sp/>data<sp/>)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="95"><highlight class="normal"></highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>sendToClient(<sp/>EntityID<sp/>entityID,</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Mercury::MessageID<sp/>msgID,<sp/>MemoryOStream<sp/>&amp;<sp/>stream,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>msgSize<sp/>);</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>sendToProxy(<sp/>Mercury::MessageID<sp/>msgID,<sp/>MemoryOStream<sp/>&amp;<sp/>stream<sp/>);</highlight></codeline>
<codeline lineno="99"><highlight class="normal"></highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>flushToClient();</highlight></codeline>
<codeline lineno="101"><highlight class="normal"></highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>setWitnessCapacity(<sp/>EntityID<sp/></highlight><highlight class="keywordtype">id</highlight><highlight class="normal">,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>bps<sp/>);</highlight></codeline>
<codeline lineno="103"><highlight class="normal"></highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>requestEntityUpdate(<sp/>EntityID<sp/></highlight><highlight class="keywordtype">id</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>EventNumber<sp/>*<sp/>pEventNumbers,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>size<sp/>);</highlight></codeline>
<codeline lineno="106"><highlight class="normal"></highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>addToAoI(<sp/><ref refid="class_entity" kindref="compound">Entity</ref><sp/>*<sp/>pEntity,<sp/>uint<sp/>aoiSubsystem<sp/>);</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>removeFromAoI(<sp/><ref refid="class_entity" kindref="compound">Entity</ref><sp/>*<sp/>pEntity,<sp/>uint<sp/>aoiSubsystem<sp/>);</highlight></codeline>
<codeline lineno="109"><highlight class="normal"></highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>newPosition(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>Vector3<sp/>&amp;<sp/>position<sp/>);</highlight></codeline>
<codeline lineno="111"><highlight class="normal"></highlight></codeline>
<codeline lineno="112"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>!VOLATILE_POSITIONS_ARE_ABSOLUTE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>updateReferencePosition(<sp/>uint8<sp/>seqNum<sp/>);</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>cancelReferencePosition();</highlight></codeline>
<codeline lineno="115"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>!VOLATILE_POSITIONS_ARE_ABSOLUTE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>dumpAoI();</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>debugDump();</highlight></codeline>
<codeline lineno="118"><highlight class="normal"></highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Misc</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>update();</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>onSendReliablePosition(<sp/>Position3D<sp/>position,<sp/>Direction3D<sp/>direction<sp/>);</highlight></codeline>
<codeline lineno="122"><highlight class="normal"></highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>setAoIRoot(<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>x,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>z<sp/>);</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>clearAoIRoot();</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/>PyObject<sp/>*<sp/>pyGet_aoiRoot();</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>pySet_aoiRoot(<sp/>PyObject<sp/>*<sp/>pArgs<sp/>);</highlight></codeline>
<codeline lineno="127"><highlight class="normal"></highlight></codeline>
<codeline lineno="128"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>!VOLATILE_POSITIONS_ARE_ABSOLUTE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>aoiRootIsReferencePosition()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="130"><highlight class="keyword"><sp/><sp/><sp/><sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>aoiRootIsReferencePosition_;</highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="133"><highlight class="normal"></highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>aoiRootIsReferencePosition(<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>aoiRootIsReferencePosition<sp/>);</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/>PY_RW_ACCESSOR_ATTRIBUTE_DECLARE(<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal">,<sp/>aoiRootIsReferencePosition,</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>aoiRootIsReferencePosition<sp/>);</highlight></codeline>
<codeline lineno="137"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>!VOLATILE_POSITIONS_ARE_ABSOLUTE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="138"><highlight class="normal"></highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Python</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>pyAdditionalMembers(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>ScriptList<sp/>&amp;<sp/>pList<sp/>)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="141"><highlight class="keyword"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="normal">{<sp/>}</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>pyAdditionalMethods(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>ScriptList<sp/>&amp;<sp/>pList<sp/>)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="143"><highlight class="keyword"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="normal">{<sp/>}</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/>PY_RW_ATTRIBUTE_DECLARE(<sp/>maxPacketSize_,<sp/>bandwidthPerUpdate<sp/>);</highlight></codeline>
<codeline lineno="145"><highlight class="normal"></highlight></codeline>
<codeline lineno="146"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>bpsToClient();</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/>PY_READABLE_ATTRIBUTE_GET(<sp/>this-&gt;bpsToClient(),<sp/>bpsToClient<sp/>);</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>pySet_bpsToClient(<sp/>PyObject<sp/>*<sp/>value<sp/>);</highlight></codeline>
<codeline lineno="149"><highlight class="normal"></highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/>PY_RW_ATTRIBUTE_DECLARE(<sp/>stealthFactor_,<sp/>stealthFactor<sp/>)</highlight></codeline>
<codeline lineno="151"><highlight class="normal"></highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>unitTest();</highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/>PY_AUTO_METHOD_DECLARE(<sp/>RETVOID,<sp/>unitTest,<sp/>END<sp/>)</highlight></codeline>
<codeline lineno="154"><highlight class="normal"></highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/>PY_AUTO_METHOD_DECLARE(<sp/>RETVOID,<sp/>dumpAoI,<sp/>END<sp/>)</highlight></codeline>
<codeline lineno="156"><highlight class="normal"></highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/>PY_AUTO_METHOD_DECLARE(<sp/>RETOK,<sp/>withholdFromClient,</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ARG(<sp/><ref refid="class_smart_pointer" kindref="compound">PyObjectPtr</ref>,<sp/>OPTARG(<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal">,<sp/></highlight><highlight class="keyword">true</highlight><highlight class="normal">,<sp/>END<sp/>)<sp/>)<sp/>)</highlight></codeline>
<codeline lineno="159" refid="class_witness_1a51f38027f47ea83674d84216fc741f0e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>PY_AUTO_METHOD_DECLARE(<sp/>RETOWN,<sp/>isWithheldFromClient,</highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ARG(<sp/><ref refid="class_smart_pointer" kindref="compound">PyObjectPtr</ref>,<sp/>END<sp/>)<sp/>)</highlight></codeline>
<codeline lineno="161"><highlight class="normal"></highlight></codeline>
<codeline lineno="162" refid="class_witness_1a10d1999377255608470765c11b4076d6" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>PY_AUTO_METHOD_DECLARE(<sp/>RETOK,<sp/>setPositionDetailed,</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ARG(<sp/>PyObjectPtr,<sp/>OPTARG(<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal">,<sp/>true,<sp/>END<sp/>)<sp/>)<sp/>)</highlight></codeline>
<codeline lineno="164" refid="class_witness_1a12e8e02d771aca4180a2ed3b12a74fba" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>PY_AUTO_METHOD_DECLARE(<sp/>RETOWN,<sp/>isPositionDetailed,</highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ARG(<sp/>PyObjectPtr,<sp/>END<sp/>)<sp/>)</highlight></codeline>
<codeline lineno="166"><highlight class="normal"></highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/>PY_KEYWORD_METHOD_DECLARE(<sp/>py_entitiesInAoI<sp/>)</highlight></codeline>
<codeline lineno="168"><highlight class="normal"></highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/>PY_AUTO_METHOD_DECLARE(<sp/>RETDATA,<sp/>isInAoI,<sp/>ARG(<sp/>PyObjectPtr,<sp/>END<sp/>)<sp/>)</highlight></codeline>
<codeline lineno="170"><highlight class="normal"></highlight></codeline>
<codeline lineno="171" refid="class_witness_1a7737ad6696c7cda809f385caaa4a495f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>PY_AUTO_METHOD_DECLARE(<sp/>RETOK,<sp/>setAoIUpdateScheme,</highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ARG(<sp/>PyObjectPtr,<sp/>ARG(<sp/><ref refid="namespace_b_w" kindref="compound">BW</ref>::</highlight><highlight class="keywordtype">string</highlight><highlight class="normal">,<sp/>END<sp/>)<sp/>)<sp/>)</highlight></codeline>
<codeline lineno="173"><highlight class="normal"></highlight></codeline>
<codeline lineno="174" refid="class_witness_1a4c42ec0ec669e8774368f27f6dd6034d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>PY_AUTO_METHOD_DECLARE(<sp/>RETOWN,<sp/>getAoIUpdateScheme,</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ARG(<sp/>PyObjectPtr,<sp/>END<sp/>)<sp/>)</highlight></codeline>
<codeline lineno="176"><highlight class="normal"></highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>setAoIRadius(<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>radius,<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>hyst<sp/>=<sp/>5.f<sp/>);</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/>PY_AUTO_METHOD_DECLARE(<sp/>RETVOID,<sp/>setAoIRadius,</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ARG(<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal">,<sp/>OPTARG(<sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal">,<sp/>5.f,<sp/>END<sp/>)<sp/>)<sp/>)</highlight></codeline>
<codeline lineno="180"><highlight class="normal"></highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>updateManualAoI(<sp/>ScriptSequence<sp/>list,</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>ignoreNonManualAoIEntities,<sp/>uint<sp/>aoiSubsystem<sp/>);</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/>PY_AUTO_METHOD_DECLARE(<sp/>RETOK,<sp/>updateManualAoI,</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ARG(<sp/>ScriptSequence,<sp/>OPTARG(<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal">,<sp/>false,</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>OPTARG(<sp/>uint,<sp/><ref refid="class_entity_cache" kindref="compound">EntityCache</ref>::AOI_DEFAULT,<sp/>END<sp/>)<sp/>)<sp/>)<sp/>)</highlight></codeline>
<codeline lineno="186"><highlight class="normal"></highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>addToManualAoI(<sp/>PyObjectPtr<sp/>pEntityOrID,<sp/>uint<sp/>aoiSubsystem<sp/>);</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/>PY_AUTO_METHOD_DECLARE(<sp/>RETOK,<sp/>addToManualAoI,<sp/>ARG(<sp/>PyObjectPtr,</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>OPTARG(<sp/>uint,<sp/><ref refid="class_entity_cache" kindref="compound">EntityCache</ref>::AOI_DEFAULT,<sp/>END<sp/>)<sp/>)<sp/>)</highlight></codeline>
<codeline lineno="190"><highlight class="normal"></highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>removeFromManualAoI(<sp/>PyObjectPtr<sp/>pEntityOrID,<sp/>uint<sp/>aoiSubsystem<sp/>);</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/>PY_AUTO_METHOD_DECLARE(<sp/>RETOK,<sp/>removeFromManualAoI,<sp/>ARG(<sp/>PyObjectPtr,</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>OPTARG(<sp/>uint,<sp/><ref refid="class_entity_cache" kindref="compound">EntityCache</ref>::AOI_DEFAULT,<sp/>END<sp/>)<sp/>)<sp/>)</highlight></codeline>
<codeline lineno="194"><highlight class="normal"></highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/>PyObject<sp/>*<sp/>entitiesInManualAoI(<sp/>const<sp/>ScriptObject<sp/>&amp;<sp/>optAoISubsystem<sp/>)<sp/>const;</highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/>PY_AUTO_METHOD_DECLARE(<sp/>RETOWN,<sp/>entitiesInManualAoI,</highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>OPTARG(<sp/>ScriptObject,<sp/>ScriptObject(),<sp/>END<sp/>)<sp/>)</highlight></codeline>
<codeline lineno="198"><highlight class="normal"></highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/>static<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>addWatchers();</highlight></codeline>
<codeline lineno="200"><highlight class="normal"></highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>vehicleChanged();</highlight></codeline>
<codeline lineno="202"><highlight class="normal"></highlight></codeline>
<codeline lineno="203"><highlight class="normal"></highlight></codeline>
<codeline lineno="209" refid="class_witness_1a187ba8b78fa229f06832fa5cadb6feb7" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>visitAoI(<sp/><ref refid="class_entity_cache_visitor" kindref="compound">EntityCacheVisitor</ref><sp/>&amp;<sp/>visitor<sp/>)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="210"><highlight class="keyword"><sp/><sp/><sp/><sp/></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>aoiMap_.visit(<sp/>visitor<sp/>);</highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="213"><highlight class="normal"></highlight></codeline>
<codeline lineno="214"><highlight class="normal"></highlight></codeline>
<codeline lineno="215"><highlight class="normal"></highlight><highlight class="keyword">private</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/>BW::vector&lt;<sp/>EntityCache<sp/>*<sp/>&gt;<sp/>KnownEntityQueue;</highlight></codeline>
<codeline lineno="217"><highlight class="normal"></highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>withholdFromClient(<sp/><ref refid="class_smart_pointer" kindref="compound">PyObjectPtr</ref><sp/>pEntityOrID,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>isVisible<sp/>);</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/>PyObject<sp/>*<sp/>isWithheldFromClient(<sp/><ref refid="class_smart_pointer" kindref="compound">PyObjectPtr</ref><sp/>pEntityOrID<sp/>)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="220"><highlight class="normal"></highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>setPositionDetailed(<sp/><ref refid="class_smart_pointer" kindref="compound">PyObjectPtr</ref><sp/>pEntityOrID,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>isPositionDetailed<sp/>);</highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/>PyObject<sp/>*<sp/>isPositionDetailed(<sp/><ref refid="class_smart_pointer" kindref="compound">PyObjectPtr</ref><sp/>pEntityOrID<sp/>)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="223"><highlight class="normal"></highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>isInAoI(<sp/><ref refid="class_smart_pointer" kindref="compound">PyObjectPtr</ref><sp/>pEntityOrID<sp/>)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="225"><highlight class="normal"></highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>setAoIUpdateScheme(<sp/><ref refid="class_smart_pointer" kindref="compound">PyObjectPtr</ref><sp/>pEntityOrID,<sp/>BW::string<sp/>schemeName<sp/>);</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/>PyObject<sp/>*<sp/>getAoIUpdateScheme(<sp/><ref refid="class_smart_pointer" kindref="compound">PyObjectPtr</ref><sp/>pEntityOrID<sp/>);</highlight></codeline>
<codeline lineno="228"><highlight class="normal"></highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Private<sp/>methods</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_range_list_node" kindref="compound">RangeListNode</ref><sp/>*<sp/>replaceAoITrigger(<sp/><ref refid="class_range_list_node" kindref="compound">RangeListNode</ref><sp/>*<sp/>pNewAoIRoot<sp/>);</highlight></codeline>
<codeline lineno="231"><highlight class="normal"></highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>deleteFromEntityQueue(<sp/>KnownEntityQueue::iterator<sp/>&amp;<sp/>iter<sp/>);</highlight></codeline>
<codeline lineno="233"><highlight class="normal"></highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>addToSeen(<sp/><ref refid="class_entity_cache" kindref="compound">EntityCache</ref><sp/>*<sp/>pCache<sp/>);</highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>deleteFromSeen(<sp/>Mercury::Bundle<sp/>&amp;<sp/>bundle,</highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>KnownEntityQueue::iterator<sp/>&amp;<sp/>iter<sp/>);</highlight></codeline>
<codeline lineno="237"><highlight class="normal"></highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>deleteFromClient(<sp/>Mercury::Bundle<sp/>&amp;<sp/>bundle,</highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_entity_cache" kindref="compound">EntityCache</ref><sp/>*<sp/>pCache<sp/>);</highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>deleteFromAoI(<sp/>KnownEntityQueue::iterator<sp/>&amp;<sp/>iter<sp/>);</highlight></codeline>
<codeline lineno="241"><highlight class="normal"></highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>handleEnterPending(<sp/>Mercury::Bundle<sp/>&amp;<sp/>bundle,<sp/></highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>KnownEntityQueue::iterator<sp/>&amp;<sp/>iter<sp/>);</highlight></codeline>
<codeline lineno="244"><highlight class="normal"></highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>sendEnter(<sp/>Mercury::Bundle<sp/>&amp;<sp/>bundle,<sp/><ref refid="class_entity_cache" kindref="compound">EntityCache</ref><sp/>*<sp/>pCache<sp/>);</highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>sendCreate(<sp/>Mercury::Bundle<sp/>&amp;<sp/>bundle,<sp/><ref refid="class_entity_cache" kindref="compound">EntityCache</ref><sp/>*<sp/>pCache<sp/>);</highlight></codeline>
<codeline lineno="247"><highlight class="normal"></highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>sendGameTime();</highlight></codeline>
<codeline lineno="249"><highlight class="normal"></highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>onLeaveAoI(<sp/><ref refid="class_entity_cache" kindref="compound">EntityCache</ref><sp/>*<sp/>pCache,<sp/>EntityID<sp/></highlight><highlight class="keywordtype">id</highlight><highlight class="normal"><sp/>);</highlight></codeline>
<codeline lineno="251"><highlight class="normal"></highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">inline</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>isAoIRooted()<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_range_list_node" kindref="compound">RangeListNode</ref><sp/>*<sp/>pAoIRoot()</highlight><highlight class="keyword"><sp/>const<sp/></highlight><highlight class="normal">{<sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>pAoIRoot_;<sp/>}</highlight></codeline>
<codeline lineno="254"><highlight class="normal"></highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/>Mercury::Bundle<sp/>&amp;<sp/>bundle();</highlight></codeline>
<codeline lineno="256"><highlight class="normal"></highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/>IDAlias<sp/>allocateIDAlias(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_entity" kindref="compound">Entity</ref><sp/>&amp;<sp/>entity<sp/>);</highlight></codeline>
<codeline lineno="258"><highlight class="normal"></highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>addSpaceDataChanges(<sp/>Mercury::Bundle<sp/>&amp;<sp/>bundle<sp/>);</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>addSpacePropertyChanges(<sp/>Mercury::Bundle<sp/>&amp;<sp/>bundle<sp/>);</highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>addSpaceGeometryMappingsChanges(<sp/>Mercury::Bundle<sp/>&amp;<sp/>bundle<sp/>);</highlight></codeline>
<codeline lineno="262"><highlight class="normal"></highlight></codeline>
<codeline lineno="263"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>!VOLATILE_POSITIONS_ARE_ABSOLUTE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>*<sp/>addReferencePosition(<sp/>Mercury::Bundle<sp/>&amp;<sp/>bundle<sp/>);</highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>calculateReferencePosition();</highlight></codeline>
<codeline lineno="266"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>!VOLATILE_POSITIONS_ARE_ABSOLUTE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="267"><highlight class="normal"></highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>*<sp/>addDetailedPlayerPosition(<sp/>Mercury::Bundle<sp/>&amp;<sp/>bundle,</highlight></codeline>
<codeline lineno="269"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>isReferencePosition<sp/>)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="270"><highlight class="normal"></highlight></codeline>
<codeline lineno="271"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>handleStateChange(<sp/><ref refid="class_entity_cache" kindref="compound">EntityCache</ref><sp/>**<sp/>ppCache,</highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>KnownEntityQueue::iterator<sp/>&amp;<sp/>queueEnd<sp/>);</highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>sendQueueElement(<sp/><ref refid="class_entity_cache" kindref="compound">EntityCache</ref><sp/>*<sp/>pCache<sp/>);</highlight></codeline>
<codeline lineno="274"><highlight class="normal"></highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>selectEntity(<sp/>Mercury::Bundle<sp/>&amp;<sp/>bundle,<sp/>EntityID<sp/>targetID<sp/>)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="276"><highlight class="normal"></highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="class_entity" kindref="compound">Entity</ref><sp/>*<sp/>findEntityFromPyArg(<sp/>PyObject<sp/>*<sp/>pEntityOrID<sp/>);</highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_entity_cache" kindref="compound">EntityCache</ref><sp/>*<sp/>findEntityCacheFromPyArg(<sp/>PyObject<sp/>*<sp/>pEntityOrID<sp/>)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">template</highlight><highlight class="normal"><sp/>&lt;</highlight><highlight class="keyword">typename</highlight><highlight class="normal"><sp/>PRED&gt;</highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/><sp/><sp/>ScriptList<sp/>entitiesInAoI(<sp/>PRED<sp/>predicate<sp/>)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/><sp/><sp/>PyObject<sp/>*<sp/>entitiesInAoI(<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>includeAll,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>onlyWithheld<sp/>)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="282"><highlight class="normal"></highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>shouldAddReplayAoIUpdates()<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="284"><highlight class="normal"></highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/>Vector3<sp/>getUpdatePriorityOrigin()<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="286"><highlight class="normal"></highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>validateAoISubsystemIndex(<sp/>uint<sp/>aoiSubsystem,</highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*<sp/>errMsg<sp/>)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="289"><highlight class="normal"></highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>variables</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="291"><highlight class="normal"></highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_real_entity" kindref="compound">RealEntity</ref><sp/><sp/><sp/><sp/><sp/><sp/>&amp;<sp/>real_;</highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_entity" kindref="compound">Entity</ref><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&amp;<sp/>entity_;</highlight></codeline>
<codeline lineno="294"><highlight class="normal"></highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/>GameTime<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>noiseCheckTime_;</highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/>GameTime<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>noisePropagatedTime_;</highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>noiseMade_;</highlight></codeline>
<codeline lineno="298"><highlight class="normal"></highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/>int32<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>maxPacketSize_;</highlight></codeline>
<codeline lineno="300"><highlight class="normal"></highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/><sp/><sp/>KnownEntityQueue<sp/><sp/><sp/><sp/>entityQueue_;</highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_entity_cache_map" kindref="compound">EntityCacheMap</ref><sp/><sp/><sp/><sp/><sp/><sp/>aoiMap_;</highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>shouldAddReplayAoIUpdates_;</highlight></codeline>
<codeline lineno="304"><highlight class="normal"></highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>stealthFactor_;</highlight></codeline>
<codeline lineno="306"><highlight class="normal"></highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>aoiHyst_;</highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>aoiRadius_;</highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_range_list_node" kindref="compound">RangeListNode</ref><sp/>*<sp/>pAoIRoot_;</highlight></codeline>
<codeline lineno="310"><highlight class="normal"></highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/><sp/><sp/>int32<sp/>bandwidthDeficit_;</highlight></codeline>
<codeline lineno="312"><highlight class="normal"></highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/><sp/><sp/>IDAlias<sp/>freeAliases_[<sp/>256<sp/>];</highlight></codeline>
<codeline lineno="314"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>numFreeAliases_;</highlight></codeline>
<codeline lineno="315"><highlight class="normal"></highlight></codeline>
<codeline lineno="316"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>!VOLATILE_POSITIONS_ARE_ABSOLUTE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>This<sp/>is<sp/>used<sp/>as<sp/>a<sp/>reference<sp/>for<sp/>shorthand<sp/>positions<sp/>sent<sp/>as<sp/>3<sp/>uint8&apos;s</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>relative<sp/>to<sp/>this<sp/>reference<sp/>position.<sp/><sp/>(see<sp/>also<sp/>RelPosRef).<sp/>It<sp/>is<sp/>used</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="319"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>to<sp/>reduce<sp/>bandwidth.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/><sp/><sp/>Vector3<sp/>referencePosition_;</highlight></codeline>
<codeline lineno="321"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>This<sp/>is<sp/>the<sp/>sequence<sp/>number<sp/>of<sp/>the<sp/>relative<sp/>position<sp/>reference<sp/>sent</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>from<sp/>the<sp/>client.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/><sp/><sp/>uint8<sp/><sp/><sp/>referenceSeqNum_;</highlight></codeline>
<codeline lineno="324"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>hasReferencePosition_;</highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>aoiRootIsReferencePosition_;</highlight></codeline>
<codeline lineno="326"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/></highlight><highlight class="comment">/*<sp/>!VOLATILE_POSITIONS_ARE_ABSOLUTE<sp/>*/</highlight><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="327"><highlight class="normal"></highlight></codeline>
<codeline lineno="328"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_ao_i_trigger" kindref="compound">AoITrigger</ref><sp/>*<sp/>pAoITrigger_;</highlight></codeline>
<codeline lineno="329"><highlight class="normal"></highlight></codeline>
<codeline lineno="330"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>These<sp/>record<sp/>details<sp/>of<sp/>the<sp/>last<sp/>reliable<sp/>detailed<sp/>position<sp/>sent<sp/>to</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="331"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>the<sp/>client,<sp/>to<sp/>avoid<sp/>needless<sp/>resends<sp/>every<sp/>tick.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="332"><highlight class="normal"><sp/><sp/><sp/><sp/>GameTime<sp/><sp/><sp/><sp/>lastSentReliableGameTime_;</highlight></codeline>
<codeline lineno="333"><highlight class="normal"><sp/><sp/><sp/><sp/>Position3D<sp/><sp/>lastSentReliablePosition_;</highlight></codeline>
<codeline lineno="334"><highlight class="normal"><sp/><sp/><sp/><sp/>Direction3D<sp/>lastSentReliableDirection_;</highlight></codeline>
<codeline lineno="335"><highlight class="normal"></highlight></codeline>
<codeline lineno="336"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">friend</highlight><highlight class="normal"><sp/>BinaryIStream<sp/>&amp;<sp/>operator&gt;&gt;(<sp/>BinaryIStream<sp/>&amp;<sp/>stream,</highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_entity_cache" kindref="compound">EntityCache</ref><sp/>&amp;<sp/>entityCache<sp/>);</highlight></codeline>
<codeline lineno="338"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">friend</highlight><highlight class="normal"><sp/>BinaryOStream<sp/>&amp;<sp/>operator&lt;&lt;(<sp/>BinaryOStream<sp/>&amp;<sp/>stream,</highlight></codeline>
<codeline lineno="339"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/><ref refid="class_entity_cache" kindref="compound">EntityCache</ref><sp/>&amp;<sp/>entityCache<sp/>);</highlight></codeline>
<codeline lineno="340"><highlight class="normal"></highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/><sp/><sp/>EventNumber<sp/>lastSpacePropertyEventNumber_;</highlight></codeline>
<codeline lineno="342"><highlight class="normal"></highlight></codeline>
<codeline lineno="343"><highlight class="normal"><sp/><sp/><sp/><sp/>EventNumber<sp/>lastSpaceGeometryMappingsEventNumber_;</highlight></codeline>
<codeline lineno="344"><highlight class="normal">};</highlight></codeline>
<codeline lineno="345"><highlight class="normal"></highlight></codeline>
<codeline lineno="346"><highlight class="normal">BW_END_NAMESPACE</highlight></codeline>
<codeline lineno="347"><highlight class="normal"></highlight></codeline>
<codeline lineno="348"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/>//<sp/>WITNESS_HPP</highlight></codeline>
    </programlisting>
    <location file="cellapp/witness.hpp"/>
  </compounddef>
</doxygen>
