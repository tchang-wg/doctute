<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.11">
  <compounddef id="spa__login__trampoline_8hpp" kind="file" language="C++">
    <compoundname>spa_login_trampoline.hpp</compoundname>
    <includes local="yes">cstdmf/bw_map.hpp</includes>
    <includes local="yes">cstdmf/bw_set.hpp</includes>
    <includes local="yes">db_storage/entity_key.hpp</includes>
    <includedby refid="spa__billing__system_8hpp" local="yes">dbapp_extensions/wgbilling_spa/spa_billing_system.hpp</includedby>
    <includedby refid="spa__login__trampoline_8cpp" local="yes">dbapp_extensions/wgbilling_spa/spa_login_trampoline.cpp</includedby>
    <incdepgraph>
      <node id="15480">
        <label>dbapp_extensions/wgbilling_spa/spa_login_trampoline.hpp</label>
        <link refid="spa_login_trampoline.hpp"/>
        <childnode refid="15481" relation="include">
        </childnode>
        <childnode refid="15482" relation="include">
        </childnode>
        <childnode refid="15483" relation="include">
        </childnode>
      </node>
      <node id="15483">
        <label>db_storage/entity_key.hpp</label>
      </node>
      <node id="15481">
        <label>cstdmf/bw_map.hpp</label>
      </node>
      <node id="15482">
        <label>cstdmf/bw_set.hpp</label>
      </node>
    </incdepgraph>
    <invincdepgraph>
      <node id="15485">
        <label>dbapp_extensions/wgbilling_spa/spa_billing_system.hpp</label>
        <link refid="spa__billing__system_8hpp_source"/>
      </node>
      <node id="15484">
        <label>dbapp_extensions/wgbilling_spa/spa_login_trampoline.hpp</label>
        <link refid="spa_login_trampoline.hpp"/>
        <childnode refid="15485" relation="include">
        </childnode>
      </node>
    </invincdepgraph>
    <innerclass refid="class_spa_login_trampoline" prot="public">SpaLoginTrampoline</innerclass>
    <innerclass refid="struct_spa_login_trampoline_1_1_account_checkout_info" prot="private">SpaLoginTrampoline::AccountCheckoutInfo</innerclass>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="preprocessor">#ifndef<sp/>SPA_LOGIN_TRAMPOLINE_HPP</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>SPA_LOGIN_TRAMPOLINE_HPP</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;cstdmf/bw_map.hpp&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;cstdmf/bw_set.hpp&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;db_storage/entity_key.hpp&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"><ref refid="namespace_b_w___b_e_g_i_n___n_a_m_e_s_p_a_c_e" kindref="compound">BW_BEGIN_NAMESPACE</ref></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal">EntityDefs;</highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight></codeline>
<codeline lineno="19" refid="class_spa_login_trampoline" refkind="compound"><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_spa_login_trampoline" kindref="compound">SpaLoginTrampoline</ref></highlight></codeline>
<codeline lineno="20"><highlight class="normal">{</highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight></codeline>
<codeline lineno="23"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_spa_login_trampoline_1a27115e56f343996df64bd86f95af80e1" kindref="member">SpaLoginTrampoline</ref>(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>EntityDefs<sp/>&amp;<sp/>entityDefs<sp/>);</highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight></codeline>
<codeline lineno="25"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Callback<sp/>for<sp/>entity<sp/>instantiation<sp/>via<sp/>logOn.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_spa_login_trampoline_1af726eeb0ac9b72c0fd8a448663a02736" kindref="member">onEntityCheckoutOnLogin</ref>(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>EntityDBKey<sp/>&amp;<sp/>edbkey,</highlight></codeline>
<codeline lineno="27"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>BW::string<sp/>&amp;<sp/>username<sp/>);</highlight></codeline>
<codeline lineno="28"><highlight class="normal"></highlight></codeline>
<codeline lineno="29"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Callback<sp/>for<sp/>entity<sp/>instantiation<sp/>via<sp/>loadEntity.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_spa_login_trampoline_1ad1aa4bbf78b0e2215edc72d2ac5ce71d" kindref="member">onEntityCheckoutOnLoadEntity</ref>(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>EntityDBKey<sp/>&amp;<sp/>edbkey<sp/>);</highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Callback<sp/>for<sp/>entity<sp/>destruction</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_spa_login_trampoline_1af336ba232fb26131a44cdac8d8a0de16" kindref="member">onEntityCheckin</ref>(<sp/>EntityTypeID<sp/>typeID,<sp/>DatabaseID<sp/>dbID<sp/>);</highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight></codeline>
<codeline lineno="35"><highlight class="normal"></highlight><highlight class="keyword">private</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>entityCheckoutHelper(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>EntityDBKey<sp/>&amp;<sp/>entityDbKey,</highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>BW::string<sp/>&amp;<sp/>username<sp/>);</highlight></codeline>
<codeline lineno="39"><highlight class="normal"></highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Cached<sp/>Account<sp/>entity<sp/>typeID</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/><sp/>EntityTypeID<sp/>accountTypeID_;</highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Cached<sp/>Login<sp/>entity<sp/>typeID</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/><sp/><sp/>EntityTypeID<sp/>loginTypeID_;</highlight></codeline>
<codeline lineno="44"><highlight class="normal"></highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Login<sp/>name<sp/>and<sp/>reference<sp/>count<sp/>for<sp/>one<sp/>account<sp/>online</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal">AccountCheckoutInfo</highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>BW::string<sp/><sp/>loginName;</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>entityCount;</highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="51"><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Mapping<sp/>from<sp/>entities<sp/>to<sp/>accounts</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/>BW::map&lt;<sp/>EntityDBKey,<sp/>DatabaseID<sp/>&gt;<sp/>EntityToAccountMap;</highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/>EntityToAccountMap<sp/>entityToAccountMapping_;</highlight></codeline>
<codeline lineno="55"><highlight class="normal"></highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Checked<sp/>out<sp/>accounts</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/>BW::map&lt;<sp/>DatabaseID,<sp/>AccountCheckoutInfo<sp/>&gt;<sp/>AccountToCheckoutMap;</highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/>AccountToCheckoutMap<sp/>accountToCheckoutInfoMapping_;</highlight></codeline>
<codeline lineno="59"><highlight class="normal"></highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Set<sp/>of<sp/>login<sp/>names<sp/>of<sp/>accounts<sp/>checked<sp/>out<sp/>via<sp/>isExceeded<sp/>method.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/>BW::set&lt;<sp/>BW::string<sp/>&gt;<sp/>onlineAccountsLoginNames_;</highlight></codeline>
<codeline lineno="62"><highlight class="normal">};</highlight></codeline>
<codeline lineno="63"><highlight class="normal"></highlight></codeline>
<codeline lineno="64"><highlight class="normal"></highlight></codeline>
<codeline lineno="65"><highlight class="normal">BW_END_NAMESPACE</highlight></codeline>
<codeline lineno="66"><highlight class="normal"></highlight></codeline>
<codeline lineno="67"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/>//<sp/>SPA_LOGIN_TRAMPOLINE_HPP</highlight></codeline>
    </programlisting>
    <location file="dbapp_extensions/wgbilling_spa/spa_login_trampoline.hpp"/>
  </compounddef>
</doxygen>
