<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.11">
  <compounddef id="physical__chunk__space_8cpp" kind="file" language="C++">
    <compoundname>physical_chunk_space.cpp</compoundname>
    <includes local="yes">script/first_include.hpp</includes>
    <includes refid="physical__chunk__space_8hpp" local="yes">physical_chunk_space.hpp</includes>
    <includes local="yes">cstdmf/bw_namespace.hpp</includes>
    <includes local="yes">scene/collision_scene_view.hpp</includes>
    <includes local="yes">scene/context_scene_view.hpp</includes>
    <includes local="yes">scene/scene.hpp</includes>
    <includes refid="cellapp_8hpp" local="yes">cellapp.hpp</includes>
    <includes refid="space_8hpp" local="yes">space.hpp</includes>
    <includes refid="chunk__space__collision__provider_8hpp" local="yes">chunk_space_collision_provider.hpp</includes>
    <incdepgraph>
      <node id="10677">
        <label>cstdmf/shared_ptr.hpp</label>
      </node>
      <node id="10648">
        <label>chunk_loading/edge_geometry_mappings.hpp</label>
      </node>
      <node id="10637">
        <label>math/rectt.hpp</label>
      </node>
      <node id="10645">
        <label>scene/collision_scene_view.hpp</label>
      </node>
      <node id="10678">
        <label>cstdmf/singleton.hpp</label>
      </node>
      <node id="10687">
        <label>py_spaces.hpp</label>
        <link refid="cellapp_2py__spaces_8hpp_source"/>
        <childnode refid="10688" relation="include">
        </childnode>
        <childnode refid="10689" relation="include">
        </childnode>
        <childnode refid="10690" relation="include">
        </childnode>
      </node>
      <node id="10667">
        <label>network/misc.hpp</label>
      </node>
      <node id="10676">
        <label>cstdmf/memory_stream.hpp</label>
      </node>
      <node id="10695">
        <label>float.h</label>
      </node>
      <node id="10654">
        <label>build/bwapi.hpp</label>
      </node>
      <node id="10649">
        <label>chunk_loading/geometry_mapper.hpp</label>
      </node>
      <node id="10658">
        <label>entitydef/volatile_info.hpp</label>
      </node>
      <node id="10694">
        <label>cstdmf/debug.hpp</label>
      </node>
      <node id="10664">
        <label>cstdmf/stdmf.hpp</label>
      </node>
      <node id="10634">
        <label>script/first_include.hpp</label>
      </node>
      <node id="10686">
        <label>type_system/context.hpp</label>
      </node>
      <node id="10685">
        <label>script/script_object.hpp</label>
      </node>
      <node id="10689">
        <label>script/py_script_object.hpp</label>
      </node>
      <node id="10691">
        <label>space.hpp</label>
        <link refid="space_8hpp_source"/>
        <childnode refid="10657" relation="include">
        </childnode>
        <childnode refid="10692" relation="include">
        </childnode>
        <childnode refid="10635" relation="include">
        </childnode>
        <childnode refid="10698" relation="include">
        </childnode>
        <childnode refid="10649" relation="include">
        </childnode>
        <childnode refid="10648" relation="include">
        </childnode>
        <childnode refid="10702" relation="include">
        </childnode>
        <childnode refid="10647" relation="include">
        </childnode>
        <childnode refid="10697" relation="include">
        </childnode>
        <childnode refid="10689" relation="include">
        </childnode>
        <childnode refid="10641" relation="include">
        </childnode>
      </node>
      <node id="10657">
        <label>cellapp_interface.hpp</label>
        <link refid="cellapp__interface_8hpp_source"/>
        <childnode refid="10658" relation="include">
        </childnode>
        <childnode refid="10659" relation="include">
        </childnode>
        <childnode refid="10660" relation="include">
        </childnode>
        <childnode refid="10661" relation="include">
        </childnode>
        <childnode refid="10662" relation="include">
        </childnode>
      </node>
      <node id="10644">
        <label>chunk/chunk_space.hpp</label>
      </node>
      <node id="10679">
        <label>cstdmf/stringmap.hpp</label>
      </node>
      <node id="10701">
        <label>cstdmf/binary_stream.hpp</label>
      </node>
      <node id="10692">
        <label>cell_range_list.hpp</label>
        <link refid="cell__range__list_8hpp_source"/>
        <childnode refid="10693" relation="include">
        </childnode>
      </node>
      <node id="10661">
        <label>server/common.hpp</label>
      </node>
      <node id="10651">
        <label>scene/context_scene_view.hpp</label>
      </node>
      <node id="10669">
        <label>cstdmf/md5.hpp</label>
      </node>
      <node id="10642">
        <label>chunk_space_collision_provider.hpp</label>
        <link refid="chunk__space__collision__provider_8hpp_source"/>
        <childnode refid="10643" relation="include">
        </childnode>
        <childnode refid="10644" relation="include">
        </childnode>
        <childnode refid="10645" relation="include">
        </childnode>
        <childnode refid="10646" relation="include">
        </childnode>
      </node>
      <node id="10681">
        <label>pyscript/pickler.hpp</label>
      </node>
      <node id="10641">
        <label>pyscript/script_math.hpp</label>
      </node>
      <node id="10639">
        <label>cstdmf/smartpointer.hpp</label>
      </node>
      <node id="10699">
        <label>entitydef/data_description.hpp</label>
      </node>
      <node id="10696">
        <label>cstdmf/bw_string.hpp</label>
      </node>
      <node id="10682">
        <label>server/entity_app.hpp</label>
      </node>
      <node id="10638">
        <label>math/boundbox.hpp</label>
      </node>
      <node id="10671">
        <label>cstdmf/bw_map.hpp</label>
      </node>
      <node id="10636">
        <label>physical_space.hpp</label>
        <link refid="physical__space_8hpp_source"/>
        <childnode refid="10637" relation="include">
        </childnode>
        <childnode refid="10638" relation="include">
        </childnode>
        <childnode refid="10639" relation="include">
        </childnode>
        <childnode refid="10640" relation="include">
        </childnode>
        <childnode refid="10641" relation="include">
        </childnode>
      </node>
      <node id="10693">
        <label>range_list_node.hpp</label>
        <link refid="range__list__node_8hpp_source"/>
        <childnode refid="10664" relation="include">
        </childnode>
        <childnode refid="10694" relation="include">
        </childnode>
        <childnode refid="10695" relation="include">
        </childnode>
        <childnode refid="10696" relation="include">
        </childnode>
        <childnode refid="10697" relation="include">
        </childnode>
      </node>
      <node id="10688">
        <label>pyscript/pyobject_plus.hpp</label>
      </node>
      <node id="10665">
        <label>cstdmf/watcher.hpp</label>
      </node>
      <node id="10656">
        <label>cstdmf/safe_static.hpp</label>
      </node>
      <node id="10672">
        <label>emergency_throttle.hpp</label>
        <link refid="emergency__throttle_8hpp_source"/>
        <childnode refid="10639" relation="include">
        </childnode>
      </node>
      <node id="10653">
        <label>Python.h</label>
      </node>
      <node id="10698">
        <label>history_event.hpp</label>
        <link refid="history__event_8hpp_source"/>
        <childnode refid="10699" relation="include">
        </childnode>
        <childnode refid="10647" relation="include">
        </childnode>
        <childnode refid="10700" relation="include">
        </childnode>
        <childnode refid="10667" relation="include">
        </childnode>
        <childnode refid="10640" relation="include">
        </childnode>
        <childnode refid="10701" relation="include">
        </childnode>
      </node>
      <node id="10640">
        <label>cstdmf/bw_list.hpp</label>
      </node>
      <node id="10652">
        <label>cellapp.hpp</label>
        <link refid="cellapp_8hpp_source"/>
        <childnode refid="10653" relation="include">
        </childnode>
        <childnode refid="10654" relation="include">
        </childnode>
        <childnode refid="10655" relation="include">
        </childnode>
        <childnode refid="10657" relation="include">
        </childnode>
        <childnode refid="10663" relation="include">
        </childnode>
        <childnode refid="10670" relation="include">
        </childnode>
        <childnode refid="10672" relation="include">
        </childnode>
        <childnode refid="10673" relation="include">
        </childnode>
        <childnode refid="10649" relation="include">
        </childnode>
        <childnode refid="10675" relation="include">
        </childnode>
        <childnode refid="10676" relation="include">
        </childnode>
        <childnode refid="10677" relation="include">
        </childnode>
        <childnode refid="10678" relation="include">
        </childnode>
        <childnode refid="10679" relation="include">
        </childnode>
        <childnode refid="10680" relation="include">
        </childnode>
        <childnode refid="10681" relation="include">
        </childnode>
        <childnode refid="10661" relation="include">
        </childnode>
        <childnode refid="10682" relation="include">
        </childnode>
        <childnode refid="10683" relation="include">
        </childnode>
        <childnode refid="10684" relation="include">
        </childnode>
        <childnode refid="10685" relation="include">
        </childnode>
        <childnode refid="10686" relation="include">
        </childnode>
        <childnode refid="10687" relation="include">
        </childnode>
      </node>
      <node id="10680">
        <label>entitydef/entity_description_map.hpp</label>
      </node>
      <node id="10668">
        <label>server/manager_app_gateway.hpp</label>
      </node>
      <node id="10655">
        <label>cellapp_death_listener.hpp</label>
        <link refid="cellapp__death__listener_8hpp_source"/>
        <childnode refid="10647" relation="include">
        </childnode>
        <childnode refid="10640" relation="include">
        </childnode>
        <childnode refid="10656" relation="include">
        </childnode>
      </node>
      <node id="10633">
        <label>cellapp/physical_chunk_space.cpp</label>
        <link refid="physical_chunk_space.cpp"/>
        <childnode refid="10634" relation="include">
        </childnode>
        <childnode refid="10635" relation="include">
        </childnode>
        <childnode refid="10643" relation="include">
        </childnode>
        <childnode refid="10645" relation="include">
        </childnode>
        <childnode refid="10651" relation="include">
        </childnode>
        <childnode refid="10650" relation="include">
        </childnode>
        <childnode refid="10652" relation="include">
        </childnode>
        <childnode refid="10691" relation="include">
        </childnode>
        <childnode refid="10642" relation="include">
        </childnode>
      </node>
      <node id="10646">
        <label>scene/scene_provider.hpp</label>
      </node>
      <node id="10683">
        <label>server/id_client.hpp</label>
      </node>
      <node id="10702">
        <label>math/math_extra.hpp</label>
      </node>
      <node id="10647">
        <label>network/basictypes.hpp</label>
      </node>
      <node id="10675">
        <label>chunk_loading/preloaded_chunk_space.hpp</label>
      </node>
      <node id="10662">
        <label>server/anonymous_channel_client.hpp</label>
      </node>
      <node id="10660">
        <label>network/msgtypes.hpp</label>
      </node>
      <node id="10643">
        <label>cstdmf/bw_namespace.hpp</label>
      </node>
      <node id="10663">
        <label>cellappmgr_gateway.hpp</label>
        <link refid="cellappmgr__gateway_8hpp_source"/>
        <childnode refid="10664" relation="include">
        </childnode>
        <childnode refid="10665" relation="include">
        </childnode>
        <childnode refid="10647" relation="include">
        </childnode>
        <childnode refid="10666" relation="include">
        </childnode>
        <childnode refid="10667" relation="include">
        </childnode>
        <childnode refid="10661" relation="include">
        </childnode>
        <childnode refid="10668" relation="include">
        </childnode>
        <childnode refid="10669" relation="include">
        </childnode>
      </node>
      <node id="10670">
        <label>cells.hpp</label>
        <link refid="cells_8hpp_source"/>
        <childnode refid="10665" relation="include">
        </childnode>
        <childnode refid="10647" relation="include">
        </childnode>
        <childnode refid="10671" relation="include">
        </childnode>
      </node>
      <node id="10684">
        <label>server/py_services_map.hpp</label>
      </node>
      <node id="10697">
        <label>cstdmf/bw_vector.hpp</label>
      </node>
      <node id="10659">
        <label>network/common_interface_macros.hpp</label>
      </node>
      <node id="10673">
        <label>profile.hpp</label>
        <link refid="profile_8hpp_source"/>
        <childnode refid="10674" relation="include">
        </childnode>
      </node>
      <node id="10635">
        <label>physical_chunk_space.hpp</label>
        <link refid="physical__chunk__space_8hpp_source"/>
        <childnode refid="10636" relation="include">
        </childnode>
        <childnode refid="10642" relation="include">
        </childnode>
        <childnode refid="10647" relation="include">
        </childnode>
        <childnode refid="10643" relation="include">
        </childnode>
        <childnode refid="10644" relation="include">
        </childnode>
        <childnode refid="10648" relation="include">
        </childnode>
        <childnode refid="10649" relation="include">
        </childnode>
        <childnode refid="10650" relation="include">
        </childnode>
        <childnode refid="10641" relation="include">
        </childnode>
      </node>
      <node id="10674">
        <label>cstdmf/profile.hpp</label>
      </node>
      <node id="10700">
        <label>network/interface_element.hpp</label>
      </node>
      <node id="10666">
        <label>network/channel_owner.hpp</label>
      </node>
      <node id="10650">
        <label>scene/scene.hpp</label>
      </node>
      <node id="10690">
        <label>space/forward_declarations.hpp</label>
      </node>
    </incdepgraph>
      <sectiondef kind="var">
      <memberdef kind="variable" id="physical__chunk__space_8cpp_1ae4bf833b73239e14a5d0840b808c5d81" prot="public" static="no" mutable="no">
        <type>BW_BEGIN_NAMESPACE int</type>
        <definition>BW_BEGIN_NAMESPACE int ServerChunkModel_token</definition>
        <argsstring></argsstring>
        <name>ServerChunkModel_token</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cellapp/physical_chunk_space.cpp" line="21" column="1"/>
      </memberdef>
      <memberdef kind="variable" id="physical__chunk__space_8cpp_1a1625221c39f79dd96d00cff10c121761" prot="public" static="no" mutable="no">
        <type>int</type>
        <definition>int ServerChunkTree_token</definition>
        <argsstring></argsstring>
        <name>ServerChunkTree_token</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cellapp/physical_chunk_space.cpp" line="22" column="1"/>
      </memberdef>
      <memberdef kind="variable" id="physical__chunk__space_8cpp_1ab5883143e3a26279a42b4468bad907ba" prot="public" static="no" mutable="no">
        <type>int</type>
        <definition>int ServerChunkWater_token</definition>
        <argsstring></argsstring>
        <name>ServerChunkWater_token</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cellapp/physical_chunk_space.cpp" line="23" column="1"/>
      </memberdef>
      <memberdef kind="variable" id="physical__chunk__space_8cpp_1a2a88699f39d20709e96b987f0d1476de" prot="public" static="no" mutable="no">
        <type>int</type>
        <definition>int ChunkModelVLO_token</definition>
        <argsstring></argsstring>
        <name>ChunkModelVLO_token</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cellapp/physical_chunk_space.cpp" line="24" column="1"/>
      </memberdef>
      <memberdef kind="variable" id="physical__chunk__space_8cpp_1acc5dfff54b784d123ec6ef9069740a10" prot="public" static="no" mutable="no">
        <type>int</type>
        <definition>int ChunkModelVLORef_token</definition>
        <argsstring></argsstring>
        <name>ChunkModelVLORef_token</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cellapp/physical_chunk_space.cpp" line="25" column="1"/>
      </memberdef>
      <memberdef kind="variable" id="physical__chunk__space_8cpp_1a510d5cdd849dc702ebbc3064d2390a13" prot="public" static="no" mutable="no">
        <type>int</type>
        <definition>int ChunkTerrain_token</definition>
        <argsstring></argsstring>
        <name>ChunkTerrain_token</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cellapp/physical_chunk_space.cpp" line="26" column="1"/>
      </memberdef>
      <memberdef kind="variable" id="physical__chunk__space_8cpp_1a07edca837818e4d0689e0f876dab5272" prot="public" static="no" mutable="no">
        <type>int</type>
        <definition>int ChunkWaypointSet_token</definition>
        <argsstring></argsstring>
        <name>ChunkWaypointSet_token</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cellapp/physical_chunk_space.cpp" line="27" column="1"/>
      </memberdef>
      <memberdef kind="variable" id="physical__chunk__space_8cpp_1a1d597b90bbc3b124ed41977791180eea" prot="public" static="no" mutable="no">
        <type>int</type>
        <definition>int ChunkStationNode_token</definition>
        <argsstring></argsstring>
        <name>ChunkStationNode_token</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cellapp/physical_chunk_space.cpp" line="28" column="1"/>
      </memberdef>
      <memberdef kind="variable" id="physical__chunk__space_8cpp_1a17c6b011b06670187bd15a7175da4e67" prot="public" static="no" mutable="no">
        <type>int</type>
        <definition>int ChunkUserDataObject_token</definition>
        <argsstring></argsstring>
        <name>ChunkUserDataObject_token</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cellapp/physical_chunk_space.cpp" line="29" column="1"/>
      </memberdef>
      <memberdef kind="variable" id="physical__chunk__space_8cpp_1a3d51c6a65ea0ece86c5e5bc7dd76860b" prot="public" static="yes" mutable="no">
        <type>int</type>
        <definition>int Chunk_token</definition>
        <argsstring></argsstring>
        <name>Chunk_token</name>
        <initializer>= ServerChunkModel_token | ChunkTerrain_token |
	ChunkWaypointSet_token | ServerChunkTree_token | ServerChunkWater_token |
	ChunkModelVLO_token | ChunkModelVLORef_token | ChunkStationNode_token|
	ChunkUserDataObject_token</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="cellapp/physical_chunk_space.cpp" line="30" column="1" bodyfile="cellapp/physical_chunk_space.cpp" bodystart="30" bodyend="-1"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="preprocessor">#include<sp/>&quot;script/first_include.hpp&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;physical_chunk_space.hpp&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;cstdmf/bw_namespace.hpp&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;scene/collision_scene_view.hpp&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;scene/context_scene_view.hpp&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;scene/scene.hpp&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;cellapp.hpp&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;space.hpp&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;chunk_space_collision_provider.hpp&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"><ref refid="namespace_b_w___b_e_g_i_n___n_a_m_e_s_p_a_c_e" kindref="compound">BW_BEGIN_NAMESPACE</ref></highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight><highlight class="comment">//<sp/>-----------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Section:<sp/>Chunk<sp/>Items</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight><highlight class="comment">//<sp/>-----------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight><highlight class="keyword">extern</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>ServerChunkModel_token;</highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight><highlight class="keyword">extern</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>ServerChunkTree_token;</highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight><highlight class="keyword">extern</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>ServerChunkWater_token;</highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight><highlight class="keyword">extern</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>ChunkModelVLO_token;</highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight><highlight class="keyword">extern</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>ChunkModelVLORef_token;</highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight><highlight class="keyword">extern</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>ChunkTerrain_token;</highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight><highlight class="keyword">extern</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>ChunkWaypointSet_token;</highlight></codeline>
<codeline lineno="28"><highlight class="normal"></highlight><highlight class="keyword">extern</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>ChunkStationNode_token;</highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight><highlight class="keyword">extern</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>ChunkUserDataObject_token;</highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>Chunk_token<sp/>=<sp/>ServerChunkModel_token<sp/>|<sp/>ChunkTerrain_token<sp/>|</highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/><sp/><sp/>ChunkWaypointSet_token<sp/>|<sp/>ServerChunkTree_token<sp/>|<sp/>ServerChunkWater_token<sp/>|</highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/><sp/><sp/>ChunkModelVLO_token<sp/>|<sp/>ChunkModelVLORef_token<sp/>|<sp/>ChunkStationNode_token|</highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/><sp/><sp/>ChunkUserDataObject_token;</highlight></codeline>
<codeline lineno="34"><highlight class="normal"></highlight></codeline>
<codeline lineno="35"><highlight class="normal"></highlight><highlight class="comment">//<sp/>-----------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Section:<sp/>PhysicalChunkSpace</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="37"><highlight class="normal"></highlight><highlight class="comment">//<sp/>-----------------------------------------------------------------------------</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight></codeline>
<codeline lineno="42"><highlight class="normal">PhysicalChunkSpace::LoadResourceCallback::LoadResourceCallback(</highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SpaceID<sp/>spaceID<sp/>):</highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/><sp/>AddMappingAsyncCallback(),</highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/>spaceID_(<sp/>spaceID<sp/>)</highlight></codeline>
<codeline lineno="46"><highlight class="normal">{</highlight></codeline>
<codeline lineno="47"><highlight class="normal">}</highlight></codeline>
<codeline lineno="48"><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>PhysicalChunkSpace::LoadResourceCallback::onAddMappingAsyncCompleted(<sp/></highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SpaceEntryID<sp/>spaceEntryID,</highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>AddMappingAsyncCallback::AddMappingResult<sp/>result<sp/>)</highlight></codeline>
<codeline lineno="55"><highlight class="normal">{</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(result<sp/>==<sp/>AddMappingAsyncCallback::RESULT_FAILURE)</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_space" kindref="compound">Space</ref><sp/>*<sp/>pSpace<sp/>=<sp/>CellApp::instance().findSpace(<sp/>spaceID_<sp/>);</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pSpace<sp/>!=<sp/>NULL)</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pSpace-&gt;<ref refid="class_space_1aac954a3cb2b5563fc59a564a9e00bc2b" kindref="member">onLoadResourceFailed</ref>(<sp/>spaceEntryID<sp/>);</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="64"><highlight class="normal">}</highlight></codeline>
<codeline lineno="65"><highlight class="normal"></highlight></codeline>
<codeline lineno="69"><highlight class="normal"><ref refid="class_physical_chunk_space_1ad3a7f601aa38e7a77f8c98435fd2fbcf" kindref="member">PhysicalChunkSpace::PhysicalChunkSpace</ref>(<sp/></highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SpaceID<sp/></highlight><highlight class="keywordtype">id</highlight><highlight class="normal">,<sp/>GeometryMapper<sp/>&amp;<sp/>mapper,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>IContext<sp/>&amp;<sp/>context<sp/>)<sp/>:</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/>pChunkSpace_(<sp/>new<sp/>ChunkSpace(<sp/>id<sp/>)<sp/>),</highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/>geometryMappings_(<sp/>mapper<sp/>),</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/>scene_(),</highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/>collisionProvider_(<sp/>*pChunkSpace_<sp/>)</highlight></codeline>
<codeline lineno="75"><highlight class="normal">{</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/>pChunkSpace_-&gt;sceneProvider(<sp/>&amp;collisionProvider_<sp/>);</highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/>pChunkSpace_-&gt;pMappingFactory(<sp/>&amp;geometryMappings_<sp/>);</highlight></codeline>
<codeline lineno="78"><highlight class="normal"></highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/>scene_.prepareView&lt;<sp/>ContextSceneView<sp/>&gt;()-&gt;assign(<sp/>&amp;context<sp/>);</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/>scene_.prepareView&lt;<sp/>CollisionSceneView<sp/>&gt;();</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/>scene_.addProvider(<sp/>&amp;collisionProvider_<sp/>);</highlight></codeline>
<codeline lineno="82"><highlight class="normal">}</highlight></codeline>
<codeline lineno="83"><highlight class="normal"></highlight></codeline>
<codeline lineno="87"><highlight class="normal"><ref refid="class_physical_chunk_space_1ab5cf3045931565850b11c5fe8c0343c7" kindref="member">PhysicalChunkSpace::~PhysicalChunkSpace</ref>()</highlight></codeline>
<codeline lineno="88"><highlight class="normal">{</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/>scene_.removeProvider(<sp/>&amp;collisionProvider_<sp/>);</highlight></codeline>
<codeline lineno="90"><highlight class="normal">}</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="98"><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_physical_chunk_space_1ab6cee4fa3f92b46bf9770824b78c2464" kindref="member">PhysicalChunkSpace::loadResource</ref>(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>SpaceEntryID<sp/>&amp;<sp/>mappingID,<sp/></highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>BW::string<sp/>&amp;<sp/>path,</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>Matrix<sp/>&amp;<sp/>matrix<sp/>)</highlight></codeline>
<codeline lineno="101"><highlight class="normal">{</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/>AddMappingAsyncCallbackPtr<sp/>pAddMappingAsyncCB<sp/>=<sp/></highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>LoadResourceCallback(<sp/>pChunkSpace_-&gt;id()<sp/>);</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/>pChunkSpace_-&gt;addMappingAsync(<sp/>mappingID,<sp/>matrix,</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>path,<sp/>pAddMappingAsyncCB<sp/>);</highlight></codeline>
<codeline lineno="106"><highlight class="normal">}</highlight></codeline>
<codeline lineno="107"><highlight class="normal"></highlight></codeline>
<codeline lineno="113"><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_physical_chunk_space_1a66b682896a3327315dad9849afd98cdd" kindref="member">PhysicalChunkSpace::unloadResource</ref>(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>SpaceEntryID<sp/>&amp;<sp/>mappingID<sp/>)</highlight></codeline>
<codeline lineno="114"><highlight class="normal">{</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/>pChunkSpace_-&gt;delMapping(<sp/>mappingID<sp/>);</highlight></codeline>
<codeline lineno="116"><highlight class="normal">}</highlight></codeline>
<codeline lineno="117"><highlight class="normal"></highlight></codeline>
<codeline lineno="118"><highlight class="normal"></highlight></codeline>
<codeline lineno="124"><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_physical_chunk_space_1a0f97fc938db187478a844dc1b36fc35e" kindref="member">PhysicalChunkSpace::update</ref>(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>BW::Rect<sp/>&amp;<sp/>rect,<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>unloadOnly<sp/>)</highlight></codeline>
<codeline lineno="125"><highlight class="normal">{</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>Vector3<sp/>minB(rect.xMin(),<sp/>0.f,<sp/>rect.yMin());</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>Vector3<sp/>maxB(rect.xMax(),<sp/>0.f,<sp/>rect.yMax());</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>geometryMappings_.tickLoading(<sp/>minB,<sp/>maxB,<sp/>unloadOnly,</highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pChunkSpace_-&gt;id()<sp/>);</highlight></codeline>
<codeline lineno="130"><highlight class="normal">}</highlight></codeline>
<codeline lineno="131"><highlight class="normal"></highlight></codeline>
<codeline lineno="137"><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_physical_chunk_space_1a76618846400cea35352da49cb41b8ef5" kindref="member">PhysicalChunkSpace::getLoadedRect</ref>(<sp/>BW::Rect<sp/>&amp;<sp/>rect<sp/>)</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="138"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/>geometryMappings_.calcLoadedRect(<sp/>rect<sp/>);</highlight></codeline>
<codeline lineno="140"><highlight class="normal">}</highlight></codeline>
<codeline lineno="141"><highlight class="normal"></highlight></codeline>
<codeline lineno="142"><highlight class="normal"></highlight></codeline>
<codeline lineno="143"><highlight class="normal"></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="144"><highlight class="comment"><sp/>*<sp/><sp/>Overrides<sp/>from<sp/>IPhysicalSpace</highlight></codeline>
<codeline lineno="145"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="146"><highlight class="normal"></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_physical_chunk_space_1a3e20fe2d0058d128f26e6675e80bbcf8" kindref="member">PhysicalChunkSpace::getLoadableRects</ref>(<sp/>IPhysicalSpace::BoundsList<sp/>&amp;<sp/>rects<sp/>)<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="comment">/*<sp/>override<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="147"><highlight class="normal">{</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pChunkSpace_-&gt;isMappingPending())</highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="152"><highlight class="normal"></highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>geometryMappings_.getLoadableRects(<sp/>rects<sp/>);</highlight></codeline>
<codeline lineno="154"><highlight class="normal">}</highlight></codeline>
<codeline lineno="155"><highlight class="normal"></highlight></codeline>
<codeline lineno="156"><highlight class="normal"></highlight></codeline>
<codeline lineno="157"><highlight class="normal"></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="158"><highlight class="comment"><sp/>*<sp/><sp/>Overrides<sp/>from<sp/>IPhysicalSpace</highlight></codeline>
<codeline lineno="159"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="160"><highlight class="normal">BoundingBox<sp/><ref refid="class_physical_chunk_space_1a5d3dbf6832ad5dc9137a7f95ac17d496" kindref="member">PhysicalChunkSpace::bounds</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="161"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>pChunkSpace_-&gt;gridBounds();</highlight></codeline>
<codeline lineno="163"><highlight class="normal">}</highlight></codeline>
<codeline lineno="164"><highlight class="normal"></highlight></codeline>
<codeline lineno="165"><highlight class="normal"></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="166"><highlight class="comment"><sp/>*<sp/><sp/>Overrides<sp/>from<sp/>IPhysicalSpace</highlight></codeline>
<codeline lineno="167"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="168"><highlight class="normal">BoundingBox<sp/><ref refid="class_physical_chunk_space_1aab4617e3f5050802a187a9147390142e" kindref="member">PhysicalChunkSpace::subBounds</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="169"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>pChunkSpace_-&gt;subGridBounds();</highlight></codeline>
<codeline lineno="171"><highlight class="normal">}</highlight></codeline>
<codeline lineno="172"><highlight class="normal"></highlight></codeline>
<codeline lineno="177"><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_physical_chunk_space_1adbd90cc324bd6999efbdb11efcbcd5a3" kindref="member">PhysicalChunkSpace::cancelCurrentlyLoading</ref>()</highlight></codeline>
<codeline lineno="178"><highlight class="normal">{</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/>geometryMappings_.prepareNewlyLoadedChunksForDelete();</highlight></codeline>
<codeline lineno="180"><highlight class="normal">}</highlight></codeline>
<codeline lineno="181"><highlight class="normal"></highlight></codeline>
<codeline lineno="185"><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_physical_chunk_space_1a5f3b8588943e27538a296dfe26a74aa8" kindref="member">PhysicalChunkSpace::isFullyUnloaded</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="186"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>geometryMappings_.isFullyUnloaded();</highlight></codeline>
<codeline lineno="188"><highlight class="normal">}</highlight></codeline>
<codeline lineno="189"><highlight class="normal"></highlight></codeline>
<codeline lineno="190"><highlight class="normal"></highlight></codeline>
<codeline lineno="194"><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_physical_chunk_space_1a5ecd562d88ba531bafa038336c68d2af" kindref="member">PhysicalChunkSpace::reuse</ref>()</highlight></codeline>
<codeline lineno="195"><highlight class="normal">{</highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/>pChunkSpace_-&gt;clear();</highlight></codeline>
<codeline lineno="197"><highlight class="normal">}</highlight></codeline>
<codeline lineno="198"><highlight class="normal"></highlight></codeline>
<codeline lineno="199"><highlight class="normal"></highlight></codeline>
<codeline lineno="203"><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_physical_chunk_space_1a17ab5f55a118e76b8272d68ea53842d6" kindref="member">PhysicalChunkSpace::isFullyLoaded</ref>()</highlight><highlight class="keyword"><sp/>const</highlight></codeline>
<codeline lineno="204"><highlight class="keyword"></highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>geometryMappings_.isFullyLoaded();</highlight></codeline>
<codeline lineno="206"><highlight class="normal">}</highlight></codeline>
<codeline lineno="207"><highlight class="normal"></highlight></codeline>
<codeline lineno="208"><highlight class="normal"></highlight></codeline>
<codeline lineno="212"><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_physical_chunk_space_1a69a8088bbe7d3d27fc978d789947f162" kindref="member">PhysicalChunkSpace::clear</ref>()</highlight></codeline>
<codeline lineno="213"><highlight class="normal">{</highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/>pChunkSpace_-&gt;clear();</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/>pChunkSpace_-&gt;pMappingFactory(<sp/>NULL<sp/>);</highlight></codeline>
<codeline lineno="216"><highlight class="normal">}</highlight></codeline>
<codeline lineno="217"><highlight class="normal"></highlight></codeline>
<codeline lineno="218"><highlight class="normal"></highlight></codeline>
<codeline lineno="222"><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_physical_chunk_space_1a08def531de4cc6b9d4036caaec261671" kindref="member">PhysicalChunkSpace::getMatrixForGeometry</ref>(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>StringRef<sp/>path,</highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>MatrixProviderPtr<sp/>&amp;<sp/>pMapper,</highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Matrix<sp/>&amp;<sp/>matrix<sp/>)</highlight></codeline>
<codeline lineno="225"><highlight class="normal">{</highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/>matrix<sp/>=<sp/>Matrix::identity;</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(pMapper<sp/>&amp;&amp;<sp/>pChunkSpace_)</highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>pMapper-&gt;matrix(<sp/>matrix<sp/>);</highlight></codeline>
<codeline lineno="230"><highlight class="normal"></highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Vector3<sp/>translation<sp/>=<sp/>matrix.applyToOrigin();</highlight></codeline>
<codeline lineno="232"><highlight class="normal"></highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!almostZero(<sp/>fmod(<sp/>translation.x,<sp/>pChunkSpace_-&gt;gridSize()<sp/>)<sp/>)<sp/>||</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>!almostZero(<sp/>fmod(<sp/>translation.z,<sp/>pChunkSpace_-&gt;gridSize()<sp/>)<sp/>))</highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ERROR_MSG(<sp/></highlight><highlight class="stringliteral">&quot;PhysicalChunkSpace::getMatrix:<sp/>&apos;%s&apos;.<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Translation<sp/>needs<sp/>to<sp/>be<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;aligned<sp/>to<sp/>%.1f<sp/>metre<sp/>grid<sp/>but<sp/>is<sp/>(%.1f,<sp/>%.1f,<sp/>%.1f)\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>path.data(),<sp/>pChunkSpace_-&gt;gridSize(),</highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>translation.x,<sp/>translation.y,<sp/>translation.z<sp/>);</highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="242"><highlight class="normal"></highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>yaw<sp/>=<sp/>matrix.yaw();</highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>pitch<sp/>=<sp/>matrix.pitch();</highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">float</highlight><highlight class="normal"><sp/>roll<sp/>=<sp/>matrix.roll();</highlight></codeline>
<codeline lineno="246"><highlight class="normal"></highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!almostZero(<sp/>fmod(<sp/>yaw,<sp/>MATH_PI/2.f<sp/>)<sp/>)<sp/>||</highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>!almostZero(<sp/>pitch<sp/>)<sp/>||</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>!almostZero(<sp/>roll<sp/>))</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ERROR_MSG(<sp/></highlight><highlight class="stringliteral">&quot;PhysicalChunkSpace::getMatrix:<sp/>&apos;%s&apos;.<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;Rotation<sp/>needs<sp/>to<sp/>be<sp/>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&quot;axis<sp/>aligned.<sp/>yaw<sp/>=<sp/>%.2f.<sp/>pitch<sp/>=<sp/>%.2f.<sp/>roll<sp/>=<sp/>%.2f\n&quot;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>path.data(),</highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>RAD_TO_DEG(<sp/>yaw<sp/>),<sp/>RAD_TO_DEG(<sp/>pitch<sp/>),<sp/>RAD_TO_DEG(<sp/>roll<sp/>)<sp/>);</highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="258"><highlight class="normal">}</highlight></codeline>
<codeline lineno="259"><highlight class="normal"></highlight></codeline>
<codeline lineno="260"><highlight class="normal"></highlight></codeline>
<codeline lineno="261"><highlight class="normal">BW_END_NAMESPACE</highlight></codeline>
<codeline lineno="262"><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="cellapp/physical_chunk_space.cpp"/>
  </compounddef>
</doxygen>
