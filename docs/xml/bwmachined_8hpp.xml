<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.11">
  <compounddef id="bwmachined_8hpp" kind="file" language="C++">
    <compoundname>bwmachined.hpp</compoundname>
    <includes refid="broadcast__manager_8hpp" local="yes">broadcast_manager.hpp</includes>
    <includes refid="connection__wrapper_8hpp" local="yes">connection_wrapper.hpp</includes>
    <includes refid="listeners_8hpp" local="yes">listeners.hpp</includes>
    <includes refid="mgm__packet__handler_8hpp" local="yes">mgm_packet_handler.hpp</includes>
    <includes refid="mock__handler_8hpp" local="yes">mock_handler.hpp</includes>
    <includes refid="network__node_8hpp" local="yes">network_node.hpp</includes>
    <includes refid="server__platform_8hpp" local="yes">server_platform.hpp</includes>
    <includes refid="syslog__message__handler_8hpp" local="yes">syslog_message_handler.hpp</includes>
    <includes refid="usermap_8hpp" local="yes">usermap.hpp</includes>
    <includes refid="wrapped__message__handler_8hpp" local="yes">wrapped_message_handler.hpp</includes>
    <includes local="yes">server/server_info.hpp</includes>
    <includes local="yes">network/endpoint.hpp</includes>
    <includes local="yes">network/event_dispatcher.hpp</includes>
    <includes local="yes">network/interfaces.hpp</includes>
    <includes local="yes">cstdmf/binary_stream.hpp</includes>
    <includes local="yes">cstdmf/singleton.hpp</includes>
    <includes local="no">memory</includes>
    <includedby refid="bwmachined_8cpp" local="yes">tools/bwmachined/bwmachined.cpp</includedby>
    <includedby refid="incoming__packet_8hpp" local="yes">tools/bwmachined/incoming_packet.hpp</includedby>
    <includedby refid="tools_2bwmachined_2main_8cpp" local="yes">tools/bwmachined/main.cpp</includedby>
    <includedby refid="mgm__packet__handler_8cpp" local="yes">tools/bwmachined/mgm_packet_handler.cpp</includedby>
    <includedby refid="network__node_8cpp" local="yes">tools/bwmachined/network_node.cpp</includedby>
    <includedby refid="ring__cluster_8cpp" local="yes">tools/bwmachined/ring_cluster.cpp</includedby>
    <includedby refid="ring__network__node_8cpp" local="yes">tools/bwmachined/ring_network_node.cpp</includedby>
    <includedby refid="server__platform_8cpp" local="yes">tools/bwmachined/server_platform.cpp</includedby>
    <includedby refid="server__platform__linux_8cpp" local="yes">tools/bwmachined/server_platform_linux.cpp</includedby>
    <includedby refid="test__wrapped__message__handler_8cpp" local="yes">tools/bwmachined/unit_test/test_wrapped_message_handler.cpp</includedby>
    <includedby refid="wrapped__message__handler_8cpp" local="yes">tools/bwmachined/wrapped_message_handler.cpp</includedby>
    <incdepgraph>
      <node id="17379">
        <label>stdarg.h</label>
      </node>
      <node id="17369">
        <label>network_node.hpp</label>
        <link refid="network__node_8hpp_source"/>
        <childnode refid="17345" relation="include">
        </childnode>
        <childnode refid="17346" relation="include">
        </childnode>
        <childnode refid="17370" relation="include">
        </childnode>
        <childnode refid="17347" relation="include">
        </childnode>
        <childnode refid="17351" relation="include">
        </childnode>
        <childnode refid="17365" relation="include">
        </childnode>
        <childnode refid="17349" relation="include">
        </childnode>
      </node>
      <node id="17382">
        <label>cstdmf/singleton.hpp</label>
      </node>
      <node id="17349">
        <label>cstdmf/memory_stream.hpp</label>
      </node>
      <node id="17377">
        <label>cstdmf/log_meta_data.hpp</label>
      </node>
      <node id="17372">
        <label>tcp_connection_wrapper.hpp</label>
        <link refid="tcp__connection__wrapper_8hpp_source"/>
        <childnode refid="17346" relation="include">
        </childnode>
        <childnode refid="17347" relation="include">
        </childnode>
        <childnode refid="17373" relation="include">
        </childnode>
        <childnode refid="17364" relation="include">
        </childnode>
        <childnode refid="17348" relation="include">
        </childnode>
        <childnode refid="17349" relation="include">
        </childnode>
      </node>
      <node id="17361">
        <label>cstdmf/stdmf.hpp</label>
      </node>
      <node id="17347">
        <label>network/endpoint.hpp</label>
      </node>
      <node id="17351">
        <label>network/machine_guard.hpp</label>
      </node>
      <node id="17348">
        <label>cstdmf/binary_stream.hpp</label>
      </node>
      <node id="17378">
        <label>cstdmf/debug_message_callbacks.hpp</label>
      </node>
      <node id="17371">
        <label>udp_connection_wrapper.hpp</label>
        <link refid="udp__connection__wrapper_8hpp_source"/>
        <childnode refid="17346" relation="include">
        </childnode>
        <childnode refid="17347" relation="include">
        </childnode>
        <childnode refid="17348" relation="include">
        </childnode>
        <childnode refid="17349" relation="include">
        </childnode>
      </node>
      <node id="17350">
        <label>cstdmf/smartpointer.hpp</label>
      </node>
      <node id="17357">
        <label>cstdmf/bw_string.hpp</label>
      </node>
      <node id="17370">
        <label>connection_wrapper_mgr.hpp</label>
        <link refid="connection__wrapper__mgr_8hpp_source"/>
        <childnode refid="17346" relation="include">
        </childnode>
        <childnode refid="17371" relation="include">
        </childnode>
        <childnode refid="17372" relation="include">
        </childnode>
        <childnode refid="17347" relation="include">
        </childnode>
        <childnode refid="17373" relation="include">
        </childnode>
        <childnode refid="17364" relation="include">
        </childnode>
      </node>
      <node id="17375">
        <label>cstdmf/debug_message_priority.hpp</label>
      </node>
      <node id="17358">
        <label>usermap.hpp</label>
        <link refid="usermap_8hpp_source"/>
        <childnode refid="17351" relation="include">
        </childnode>
      </node>
      <node id="17353">
        <label>cstdmf/time_queue.hpp</label>
      </node>
      <node id="17362">
        <label>cstdmf/bw_set.hpp</label>
      </node>
      <node id="17376">
        <label>cstdmf/debug_message_source.hpp</label>
      </node>
      <node id="17366">
        <label>sys/types.h</label>
      </node>
      <node id="17346">
        <label>connection_wrapper.hpp</label>
        <link refid="connection__wrapper_8hpp_source"/>
        <childnode refid="17347" relation="include">
        </childnode>
        <childnode refid="17348" relation="include">
        </childnode>
        <childnode refid="17349" relation="include">
        </childnode>
        <childnode refid="17350" relation="include">
        </childnode>
      </node>
      <node id="17374">
        <label>syslog_message_handler.hpp</label>
        <link refid="syslog__message__handler_8hpp_source"/>
        <childnode refid="17360" relation="include">
        </childnode>
        <childnode refid="17375" relation="include">
        </childnode>
        <childnode refid="17376" relation="include">
        </childnode>
        <childnode refid="17377" relation="include">
        </childnode>
        <childnode refid="17378" relation="include">
        </childnode>
        <childnode refid="17379" relation="include">
        </childnode>
      </node>
      <node id="17352">
        <label>cstdmf/bw_list.hpp</label>
      </node>
      <node id="17365">
        <label>network/portmap.hpp</label>
      </node>
      <node id="17344">
        <label>tools/bwmachined/bwmachined.hpp</label>
        <link refid="bwmachined.hpp"/>
        <childnode refid="17345" relation="include">
        </childnode>
        <childnode refid="17346" relation="include">
        </childnode>
        <childnode refid="17354" relation="include">
        </childnode>
        <childnode refid="17367" relation="include">
        </childnode>
        <childnode refid="17368" relation="include">
        </childnode>
        <childnode refid="17369" relation="include">
        </childnode>
        <childnode refid="17355" relation="include">
        </childnode>
        <childnode refid="17374" relation="include">
        </childnode>
        <childnode refid="17358" relation="include">
        </childnode>
        <childnode refid="17380" relation="include">
        </childnode>
        <childnode refid="17381" relation="include">
        </childnode>
        <childnode refid="17347" relation="include">
        </childnode>
        <childnode refid="17373" relation="include">
        </childnode>
        <childnode refid="17364" relation="include">
        </childnode>
        <childnode refid="17348" relation="include">
        </childnode>
        <childnode refid="17382" relation="include">
        </childnode>
        <childnode refid="17383" relation="include">
        </childnode>
      </node>
      <node id="17381">
        <label>server/server_info.hpp</label>
      </node>
      <node id="17367">
        <label>mgm_packet_handler.hpp</label>
        <link refid="mgm__packet__handler_8hpp_source"/>
        <childnode refid="17346" relation="include">
        </childnode>
        <childnode refid="17348" relation="include">
        </childnode>
      </node>
      <node id="17364">
        <label>network/interfaces.hpp</label>
      </node>
      <node id="17354">
        <label>listeners.hpp</label>
        <link refid="listeners_8hpp_source"/>
        <childnode refid="17351" relation="include">
        </childnode>
        <childnode refid="17355" relation="include">
        </childnode>
      </node>
      <node id="17360">
        <label>cstdmf/bw_namespace.hpp</label>
      </node>
      <node id="17368">
        <label>mock_handler.hpp</label>
        <link refid="mock__handler_8hpp_source"/>
        <childnode refid="17369" relation="include">
        </childnode>
        <childnode refid="17347" relation="include">
        </childnode>
        <childnode refid="17351" relation="include">
        </childnode>
      </node>
      <node id="17356">
        <label>process_binary_version.hpp</label>
        <link refid="process__binary__version_8hpp_source"/>
        <childnode refid="17357" relation="include">
        </childnode>
      </node>
      <node id="17359">
        <label>message_with_destination.hpp</label>
        <link refid="message__with__destination_8hpp_source"/>
        <childnode refid="17346" relation="include">
        </childnode>
        <childnode refid="17351" relation="include">
        </childnode>
        <childnode refid="17347" relation="include">
        </childnode>
      </node>
      <node id="17363">
        <label>cstdmf/bw_vector.hpp</label>
      </node>
      <node id="17355">
        <label>server_platform.hpp</label>
        <link refid="server__platform_8hpp_source"/>
        <childnode refid="17356" relation="include">
        </childnode>
        <childnode refid="17358" relation="include">
        </childnode>
        <childnode refid="17359" relation="include">
        </childnode>
        <childnode refid="17360" relation="include">
        </childnode>
        <childnode refid="17357" relation="include">
        </childnode>
        <childnode refid="17361" relation="include">
        </childnode>
        <childnode refid="17362" relation="include">
        </childnode>
        <childnode refid="17348" relation="include">
        </childnode>
        <childnode refid="17363" relation="include">
        </childnode>
        <childnode refid="17364" relation="include">
        </childnode>
        <childnode refid="17365" relation="include">
        </childnode>
        <childnode refid="17351" relation="include">
        </childnode>
        <childnode refid="17366" relation="include">
        </childnode>
      </node>
      <node id="17373">
        <label>network/event_dispatcher.hpp</label>
      </node>
      <node id="17345">
        <label>broadcast_manager.hpp</label>
        <link refid="broadcast__manager_8hpp_source"/>
        <childnode refid="17346" relation="include">
        </childnode>
        <childnode refid="17347" relation="include">
        </childnode>
        <childnode refid="17351" relation="include">
        </childnode>
        <childnode refid="17352" relation="include">
        </childnode>
        <childnode refid="17353" relation="include">
        </childnode>
      </node>
      <node id="17380">
        <label>wrapped_message_handler.hpp</label>
        <link refid="wrapped__message__handler_8hpp_source"/>
        <childnode refid="17345" relation="include">
        </childnode>
        <childnode refid="17346" relation="include">
        </childnode>
        <childnode refid="17347" relation="include">
        </childnode>
        <childnode refid="17351" relation="include">
        </childnode>
        <childnode refid="17353" relation="include">
        </childnode>
      </node>
      <node id="17383">
        <label>memory</label>
      </node>
    </incdepgraph>
    <invincdepgraph>
      <node id="17385">
        <label>tools/bwmachined/incoming_packet.hpp</label>
        <link refid="incoming__packet_8hpp_source"/>
      </node>
      <node id="17384">
        <label>tools/bwmachined/bwmachined.hpp</label>
        <link refid="bwmachined.hpp"/>
        <childnode refid="17385" relation="include">
        </childnode>
      </node>
    </invincdepgraph>
    <innerclass refid="class_b_w_machined" prot="public">BWMachined</innerclass>
    <innerclass refid="class_b_w_machined_1_1_delayed_packet_handler" prot="private">BWMachined::DelayedPacketHandler</innerclass>
    <innerclass refid="class_b_w_machined_1_1_update_handler" prot="private">BWMachined::UpdateHandler</innerclass>
    <innerclass refid="class_b_w_machined_1_1_cleanup_handler" prot="private">BWMachined::CleanupHandler</innerclass>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="preprocessor">#ifndef<sp/>BWMACHINED_HPP</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>BWMACHINED_HPP</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;broadcast_manager.hpp&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;connection_wrapper.hpp&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="6"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;listeners.hpp&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;mgm_packet_handler.hpp&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="8"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;mock_handler.hpp&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;network_node.hpp&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;server_platform.hpp&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;syslog_message_handler.hpp&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;usermap.hpp&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;wrapped_message_handler.hpp&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;server/server_info.hpp&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight></codeline>
<codeline lineno="17"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;network/endpoint.hpp&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;network/event_dispatcher.hpp&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;network/interfaces.hpp&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;cstdmf/binary_stream.hpp&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;cstdmf/singleton.hpp&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;memory&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"><ref refid="namespace_b_w___b_e_g_i_n___n_a_m_e_s_p_a_c_e" kindref="compound">BW_BEGIN_NAMESPACE</ref></highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight></codeline>
<codeline lineno="28"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_incoming_packet" kindref="compound">IncomingPacket</ref>;</highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight></codeline>
<codeline lineno="30" refid="class_b_w_machined" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_b_w_machined" kindref="compound">BWMachined</ref><sp/>:<sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>Singleton&lt;<sp/>BWMachined<sp/>&gt;</highlight></codeline>
<codeline lineno="31"><highlight class="normal">{</highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">enum</highlight><highlight class="normal"><sp/>ReadProcTableStatus</highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>READ_PROC_SUCCESS,</highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>READ_PROC_ERROR_FILE_NOT_FOUND,</highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>READ_PROC_ERROR_STAT_FILE_FAILED,</highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>READ_PROC_ERROR_OUTDATED_FILE,</highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>READ_PROC_ERROR_CORRUPT_FILE</highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="41"><highlight class="normal"></highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_b_w_machined_1a44dbcfde46f72855bafaf12636b2c9fc" kindref="member">BWMachined</ref>(<sp/>uint16<sp/>port,<sp/>BW::string<sp/>&amp;<sp/>configFile,</highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>NetworkNode::NodeType<sp/>nodeType,<sp/>BW::string<sp/>&amp;<sp/>topLevelNode,</highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>mockMode<sp/>=<sp/></highlight><highlight class="keyword">false</highlight><highlight class="normal"><sp/>);</highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_b_w_machined_1a1030007d7ec3eea8f9aedff1a9134956" kindref="member">~BWMachined</ref>();</highlight></codeline>
<codeline lineno="46"><highlight class="normal"></highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_b_w_machined_1a5ac3ed3374219071267423c24d20a599" kindref="member">readConfigFile</ref>();</highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_b_w_machined_1afe50ba7b471355ffed3714ce97c8ac60" kindref="member">run</ref>();</highlight></codeline>
<codeline lineno="49"><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_b_w_machined_1a01e5fd40875df3962293da5cc603daa0" kindref="member">setPidPath</ref>(<sp/>BW::string<sp/>pidPath<sp/>);</highlight></codeline>
<codeline lineno="51"><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*STATE_FILE;</highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_b_w_machined_1a03a750bee6b7dd5aab5e193705ede91c" kindref="member">save</ref>();</highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_b_w_machined_1a9961c77084adda8d932437837d2c985e" kindref="member">writeProcessTable</ref>(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*<sp/>filename<sp/>);</highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_b_w_machined_1a8ba0406fdb9585175dbdda1d6b248b80" kindref="member">load</ref>();</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/>ReadProcTableStatus<sp/><ref refid="class_b_w_machined_1a5a313f1f77f1ffa023de130a292fda8c" kindref="member">readProcessTable</ref>(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*<sp/>filename<sp/>);</highlight></codeline>
<codeline lineno="57"><highlight class="normal"></highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*<sp/>timingMethod()<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="59"><highlight class="normal"></highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_b_w_machined_1a89e570134fd5df24b510748b8f80d613" kindref="member">closeEndpoints</ref>();</highlight></codeline>
<codeline lineno="61"><highlight class="normal"></highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_b_w_machined_1a05f0ab0d3bdeebbaeb27ffe89500fcce" kindref="member">readPacket</ref>(<sp/><ref refid="class_smart_pointer" kindref="compound">ConnectionWrapperPtr</ref><sp/>pConnection,<sp/></highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>BinaryIStream<sp/>&amp;<sp/>inputStream<sp/>);</highlight></codeline>
<codeline lineno="64"><highlight class="normal"></highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">friend</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="class_incoming_packet" kindref="compound">IncomingPacket</ref>;</highlight></codeline>
<codeline lineno="66"><highlight class="normal"></highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="class_b_w_machined_1a4721a3a04f43a7e67ee907d8777a5d3d" kindref="member">maxPacketDelay</ref>()<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="68"><highlight class="normal"></highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/>TimerHandle<sp/><ref refid="class_b_w_machined_1a044ec8f0d7f1bf5f405acbcadf413373" kindref="member">addTimer</ref>(<sp/>TimeQueue64::TimeStamp<sp/>microseconds,</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>TimerHandler<sp/>*<sp/>pHandler,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*<sp/>arg,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*<sp/>name<sp/>);</highlight></codeline>
<codeline lineno="71"><highlight class="normal"></highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_b_w_machined_1afec024c1bfdadcf88b33660e09ed1f9c" kindref="member">registerReadFileDescriptor</ref>(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>fd,</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Mercury::InputNotificationHandler<sp/>*<sp/>pHandler,</highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*<sp/>description<sp/>=<sp/>NULL<sp/>);</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_b_w_machined_1aa0711a70c7623938975bf9a8a15da97d" kindref="member">deregisterReadFileDescriptor</ref>(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>fd<sp/>);</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_b_w_machined_1af93d3969ef8b2ba3089ee36938bf0140" kindref="member">registerWriteFileDescriptor</ref>(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>fd,</highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Mercury::InputNotificationHandler<sp/>*<sp/>pHandler,</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*<sp/>description<sp/>=<sp/>NULL<sp/>);</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_b_w_machined_1a2e11b5d5094302624b3c1c740b4c648a" kindref="member">deregisterWriteFileDescriptor</ref>(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>fd<sp/>);</highlight></codeline>
<codeline lineno="80"><highlight class="normal"></highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_b_w_machined_1ac7a52c527f8e57e98c0528997cf56a0e" kindref="member">stopProcessing</ref>();</highlight></codeline>
<codeline lineno="82"><highlight class="normal"></highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_b_w_machined_1af0c08f2c7b605cf92b20dc286c208d78" kindref="member">sendBroadcast</ref>(<sp/>MachineGuardMessage<sp/>*<sp/>pMGM<sp/>);</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_b_w_machined_1af0c08f2c7b605cf92b20dc286c208d78" kindref="member">sendBroadcast</ref>(<sp/>MGMPacket<sp/>*<sp/>pPacket<sp/>);</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_b_w_machined_1a51d2932f1625526980739d4a4df920ef" kindref="member">sendWrappedBroadcastPacket</ref>(<sp/>MGMPacket<sp/>*<sp/>pPacket<sp/>);</highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_broadcast_manager" kindref="compound">BroadcastManager</ref><sp/>*<sp/><ref refid="class_b_w_machined_1a647bf4134f73b09a44f4100a0507bf73" kindref="member">createBroadcastManager</ref>(</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>BroadcastWrapperMessage<sp/>&amp;<sp/>bwm,<sp/><ref refid="class_smart_pointer" kindref="compound">ConnectionWrapperPtr</ref><sp/>pReplyConnection,</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ManagerLookup<sp/>&amp;<sp/>lookup<sp/>);</highlight></codeline>
<codeline lineno="89"><highlight class="normal"></highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/>Mercury::EventDispatcher<sp/>&amp;<sp/>dispatcher()</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>dispatcher_;</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="94"><highlight class="normal"></highlight></codeline>
<codeline lineno="95"><highlight class="normal"></highlight></codeline>
<codeline lineno="96"><highlight class="normal"></highlight><highlight class="keyword">private</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>initNetworkNode(<sp/>uint16<sp/>port<sp/>);</highlight></codeline>
<codeline lineno="98"><highlight class="normal"></highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>handleCreateMessage(<sp/><ref refid="class_smart_pointer" kindref="compound">ConnectionWrapperPtr</ref><sp/>pConnection,</highlight></codeline>
<codeline lineno="100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>sockaddr_in<sp/>&amp;<sp/>sin,<sp/>MachineGuardMessage<sp/>&amp;<sp/>mgm,<sp/>MGMPacket<sp/>&amp;<sp/>replies<sp/>);</highlight></codeline>
<codeline lineno="101"><highlight class="normal"></highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>allCleanupOperations(<sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>freeAll<sp/>);</highlight></codeline>
<codeline lineno="103"><highlight class="normal"></highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>resolveAndSetTopLevelNodeAddress(<sp/>BW::string<sp/>topLevelNode<sp/>);</highlight></codeline>
<codeline lineno="105"><highlight class="normal"></highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Timed<sp/>handler<sp/>to<sp/>delay<sp/>processing<sp/>of<sp/>packets<sp/>that<sp/>arrive<sp/>with<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>STAGGER_REPLIES<sp/>flag<sp/>set.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal">DelayedPacketHandler<sp/>:<sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>TimerHandler</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>handleTimeout(<sp/>TimerHandle<sp/>handle,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*<sp/>pData<sp/>);</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>onRelease(<sp/>TimerHandle<sp/>handle,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*<sp/>pData<sp/>);</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="114"><highlight class="normal"></highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/>DelayedPacketHandler<sp/>delayedPacketHandler_;</highlight></codeline>
<codeline lineno="116"><highlight class="normal"></highlight></codeline>
<codeline lineno="117"><highlight class="normal"></highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Timed<sp/>handler<sp/>to<sp/>update<sp/>machine<sp/>and<sp/>process<sp/>statistics,<sp/>check<sp/>for<sp/>dead</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>listeners<sp/>etc;<sp/>basically<sp/>all<sp/>the<sp/>housekeeping<sp/>we<sp/>want<sp/>every<sp/>so<sp/>often.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal">UpdateHandler<sp/>:<sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>TimerHandler</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>UpdateHandler(<sp/><ref refid="class_b_w_machined" kindref="compound">BWMachined</ref><sp/>&amp;machined<sp/>)<sp/>:<sp/>machined_(<sp/>machined<sp/>)<sp/>{}</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>handleTimeout(<sp/>TimerHandle<sp/>handle,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*<sp/>pData<sp/>);</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>onRelease(<sp/>TimerHandle<sp/>handle,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*<sp/>pData<sp/>)<sp/>{}</highlight></codeline>
<codeline lineno="126"><highlight class="normal"></highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">protected</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_b_w_machined" kindref="compound">BWMachined</ref><sp/>&amp;<sp/>machined_;</highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="130"><highlight class="normal"></highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/>UpdateHandler<sp/>updateHandler_;</highlight></codeline>
<codeline lineno="132"><highlight class="normal"></highlight></codeline>
<codeline lineno="133"><highlight class="normal"></highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Timed<sp/>handler<sp/>to<sp/>cleanup<sp/>communication<sp/>handlers<sp/>and<sp/>connections,<sp/>and</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>finalise<sp/>wrapped<sp/>broadcasts.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal">CleanupHandler<sp/>:<sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal"><sp/>TimerHandler</highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>CleanupHandler(<sp/><ref refid="class_b_w_machined" kindref="compound">BWMachined</ref><sp/>&amp;machined<sp/>)<sp/>:<sp/>machined_(<sp/>machined<sp/>)<sp/>{}</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>handleTimeout(<sp/>TimerHandle<sp/>handle,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*<sp/>pUnused<sp/>);</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>onRelease(<sp/>TimerHandle<sp/>handle,<sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>*<sp/>pUnused<sp/>)<sp/>{}</highlight></codeline>
<codeline lineno="142"><highlight class="normal"></highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">protected</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="class_b_w_machined" kindref="compound">BWMachined</ref><sp/>&amp;<sp/>machined_;</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/>};</highlight></codeline>
<codeline lineno="146"><highlight class="normal"></highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/>CleanupHandler<sp/>cleanupHandler_;</highlight></codeline>
<codeline lineno="148"><highlight class="normal"></highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_m_g_m_packet_handler" kindref="compound">MGMPacketHandler</ref><sp/>mgmPacketHandler_;</highlight></codeline>
<codeline lineno="150"><highlight class="normal"></highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Main<sp/>dispatcher<sp/>that<sp/>manages<sp/>the<sp/>input-driven<sp/>and<sp/>periodic<sp/>events.<sp/>The</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>types<sp/>of<sp/>handlers<sp/>that<sp/>BWMachined<sp/>registers<sp/>with<sp/>it<sp/>are<sp/>defined<sp/>directly</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>below.<sp/>Ensure<sp/>that<sp/>this<sp/>is<sp/>declared<sp/>after<sp/>delayedPacketHandler_<sp/>(at<sp/>the</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>very<sp/>least)<sp/>so<sp/>that<sp/>dispatcher_<sp/>is<sp/>destroyed<sp/>first.<sp/>This<sp/>is<sp/>because</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>dispatcher_<sp/>may<sp/>contain<sp/>many<sp/>once<sp/>off<sp/>timers<sp/>that<sp/>refer<sp/>to</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>delayedPacketHandler_.<sp/>Destroying<sp/>it<sp/>first<sp/>ensures<sp/>its<sp/>TimeQueue<sp/>is</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>emptied<sp/>so<sp/>there<sp/>will<sp/>be<sp/>no<sp/>lingering<sp/>references.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/>Mercury::EventDispatcher<sp/>dispatcher_;</highlight></codeline>
<codeline lineno="159"><highlight class="normal"></highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/>BW::string<sp/>pidPath_;</highlight></codeline>
<codeline lineno="161"><highlight class="normal"></highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/>BW::string<sp/>configFile_;</highlight></codeline>
<codeline lineno="163"><highlight class="normal"></highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/>u_int32_t<sp/>topLevelNodeAddr_;</highlight></codeline>
<codeline lineno="165"><highlight class="normal"></highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/>std::auto_ptr&lt;<sp/>MockHandler<sp/>&gt;<sp/>pMockMessageHandler_;</highlight></codeline>
<codeline lineno="167"><highlight class="normal"></highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/>BW::string<sp/>internalInterface_;</highlight></codeline>
<codeline lineno="169"><highlight class="normal"></highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_network_node" kindref="compound">NetworkNode</ref><sp/>*<sp/>pNetworkNode_;</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/>NetworkNode::NodeType<sp/>nodeType_;</highlight></codeline>
<codeline lineno="172"><highlight class="normal"></highlight></codeline>
<codeline lineno="173"><highlight class="normal"></highlight><highlight class="keyword">protected</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/>findBroadcastInterface();</highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_b_w_machined_1a51731c6c0a6d2541beb071d2f6794d7c" kindref="member">updateSystemInfo</ref>();</highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_b_w_machined_1a6e94b835a313e1428e08efe72471666e" kindref="member">update</ref>();</highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_b_w_machined_1a695587c8c5c73c1f28965053a5184b99" kindref="member">broadcastToListeners</ref>(<sp/>ProcessMessage<sp/>&amp;<sp/>pm,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>type<sp/>);</highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_b_w_machined_1aa769abaa4339d51a837cf4877fd3d1a4" kindref="member">removeRegisteredProc</ref>(<sp/></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/>index<sp/>);</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_b_w_machined_1a521df66418205699c135e440408e151d" kindref="member">sendSignal</ref>(<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>SignalMessage<sp/>&amp;<sp/>sm,<sp/>in_addr<sp/>addr<sp/>);</highlight></codeline>
<codeline lineno="180"><highlight class="normal"></highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="class_b_w_machined_1a51171389b40f4e0824fee593c1a11721" kindref="member">handlePacket</ref>(<sp/><ref refid="class_smart_pointer" kindref="compound">ConnectionWrapperPtr</ref><sp/>pConnection,<sp/>sockaddr_in<sp/>&amp;<sp/>sin,</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MGMPacket<sp/>&amp;<sp/>packet<sp/>);</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_b_w_machined_1a6d2f3b123f0a7f21796184afdc65cb8c" kindref="member">handleMessage</ref>(<sp/><ref refid="class_smart_pointer" kindref="compound">ConnectionWrapperPtr</ref><sp/>pConnection,<sp/>sockaddr_in<sp/>&amp;<sp/>sin,</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>MachineGuardMessage<sp/>&amp;<sp/>mgm,<sp/>MGMPacket<sp/>&amp;<sp/>replies<sp/>);</highlight></codeline>
<codeline lineno="185"><highlight class="normal"></highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">bool</highlight><highlight class="normal"><sp/><ref refid="class_b_w_machined_1a5ac3ed3374219071267423c24d20a599" kindref="member">readConfigFile</ref>(<sp/>FILE<sp/>*<sp/>pFile<sp/>);</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*<sp/>findOption(<sp/></highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*<sp/>optionName,<sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*<sp/>oldOptionName<sp/>);</highlight></codeline>
<codeline lineno="189"><highlight class="normal"></highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Time<sp/>between<sp/>statistics<sp/>updates<sp/>(in<sp/>ms)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>TimeQueue64::TimeStamp<sp/>UPDATE_INTERVAL_MS<sp/>=<sp/>1000;</highlight></codeline>
<codeline lineno="192"><highlight class="normal"></highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>Time<sp/>between<sp/>cleanup<sp/>operations<sp/>(in<sp/>ms)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>TimeQueue64::TimeStamp<sp/>CLEANUP_INTERVAL_MS<sp/>=<sp/>250;</highlight></codeline>
<codeline lineno="195"><highlight class="normal"></highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/>BW::map&lt;<sp/>BW::string,<sp/>Tags<sp/>&gt;<sp/>TagsMap;</highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/>TagsMap<sp/>tags_;</highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/>BW::string<sp/>timingMethod_;</highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_server_platform" kindref="compound">ServerPlatform</ref><sp/>*<sp/>pServerPlatform_;</highlight></codeline>
<codeline lineno="200"><highlight class="normal"></highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="struct_system_info" kindref="compound">SystemInfo</ref><sp/>systemInfo_;</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/>ProcessInfoList<sp/>procs_;</highlight></codeline>
<codeline lineno="203"><highlight class="normal"></highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_listeners" kindref="compound">Listeners&lt; ListenerMessage &gt;</ref><sp/>birthListeners_;</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_listeners" kindref="compound">Listeners&lt; ListenerMessage &gt;</ref><sp/>deathListeners_;</highlight></codeline>
<codeline lineno="206"><highlight class="normal"></highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">typedef</highlight><highlight class="normal"><sp/>BW::map&lt;<sp/>uint8,<sp/>Listeners&lt;<sp/>SignalListenerMessage<sp/>&gt;<sp/>&gt;<sp/>SignalListenerMap;</highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/>SignalListenerMap<sp/>signalListeners_;</highlight></codeline>
<codeline lineno="209"><highlight class="normal"></highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_user_map" kindref="compound">UserMap</ref><sp/>users_;</highlight></codeline>
<codeline lineno="211"><highlight class="normal"></highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>A<sp/>ServerInfo<sp/>object<sp/>for<sp/>querying<sp/>performance<sp/>information<sp/>from<sp/>the<sp/>system</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/>ServerInfo*<sp/>pServerInfo_;</highlight></codeline>
<codeline lineno="214"><highlight class="normal"></highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>For<sp/>wrapping<sp/>broadcast<sp/>messages<sp/>and<sp/>processing<sp/>responses<sp/>on<sp/>behalf<sp/>of</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>clients</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_wrapped_message_handler" kindref="compound">WrappedMessageHandler</ref><sp/>wrappedMessageHandler_;</highlight></codeline>
<codeline lineno="218"><highlight class="normal"></highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>The<sp/>maximum<sp/>amount<sp/>of<sp/>time<sp/>that<sp/>a<sp/>packet<sp/>should<sp/>be<sp/>delayed<sp/>by<sp/>when</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>exceeding<sp/>minPacketSizeToDelay_.</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>maxPacketDelayMillisec_;</highlight></codeline>
<codeline lineno="222"><highlight class="normal"></highlight></codeline>
<codeline lineno="223"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>BW_PLATFORM_SUPPORTS_SYSLOG</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/><ref refid="class_syslog_message_handler" kindref="compound">SyslogMessageHandler</ref><sp/>syslogHandler_;</highlight></codeline>
<codeline lineno="225"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="226"><highlight class="normal"></highlight></codeline>
<codeline lineno="227"><highlight class="normal">};</highlight></codeline>
<codeline lineno="228"><highlight class="normal"></highlight></codeline>
<codeline lineno="229"><highlight class="normal"></highlight><highlight class="preprocessor">#if<sp/>defined(<sp/>CODE_INLINE<sp/>)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="230"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;bwmachined.ipp&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="231"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="232"><highlight class="normal"></highlight></codeline>
<codeline lineno="233"><highlight class="normal">BW_END_NAMESPACE</highlight></codeline>
<codeline lineno="234"><highlight class="normal"></highlight></codeline>
<codeline lineno="235"><highlight class="normal"></highlight><highlight class="preprocessor">#endif<sp/>//<sp/>BWMACHINED_HPP</highlight></codeline>
    </programlisting>
    <location file="tools/bwmachined/bwmachined.hpp"/>
  </compounddef>
</doxygen>
